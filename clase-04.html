<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Clase 04 - Sobrecarga, Sobreescritura y Modelado BD | IF0100 - POO II</title>
  <style>
    :root {
      --bg: #f7f7f4;
      --ink: #1f2933;
      --muted: #52606d;
      --brand: #1e3a8a;
      --accent: #3b82f6;
      --card: #ffffff;
      --line: #d9e2ec;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: "IBM Plex Sans", "Segoe UI", Tahoma, sans-serif;
      color: var(--ink);
      background: var(--bg);
      line-height: 1.65;
    }
    header {
      background: linear-gradient(135deg, #0b2d6b, #1e40af);
      color: #fff;
      padding: 36px 20px 28px;
    }
    header .wrap { max-width: 1100px; margin: 0 auto; }
    header h1 {
      font-family: "Merriweather", Georgia, serif;
      margin: 8px 0 10px;
      font-size: 2.2rem;
    }
    header .meta {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 16px;
      margin-top: 18px;
      background: rgba(255, 255, 255, 0.12);
      padding: 16px;
      border-radius: 12px;
    }
    header ul { margin: 8px 0 0 18px; }
    nav {
      max-width: 1100px;
      margin: 18px auto 0;
      padding: 14px 18px;
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 12px;
    }
    nav ul {
      list-style: none;
      padding: 0;
      margin: 0;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 8px 14px;
    }
    nav a {
      color: var(--brand);
      text-decoration: none;
      padding: 8px 10px;
      border-radius: 8px;
      background: #eef2ff;
      display: block;
    }
    nav a:hover { background: #dbeafe; }
    main { max-width: 1100px; margin: 18px auto 60px; padding: 0 20px; }
    section {
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 12px;
      padding: 22px;
      margin: 18px 0;
    }
    h2 { margin-top: 0; color: var(--brand); font-size: 1.6rem; border-bottom: 3px solid var(--accent); padding-bottom: 6px; }
    h3 { color: #0b2d6b; margin-top: 20px; }
    h4 { color: #2f4b7c; margin-top: 16px; }
    .grid-2 {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 16px;
      align-items: start;
    }
    .note {
      background: #f0f4ff;
      border-left: 4px solid var(--accent);
      padding: 10px 12px;
      border-radius: 8px;
      color: var(--muted);
    }
    figure {
      margin: 0;
      padding: 12px;
      border: 1px dashed var(--line);
      border-radius: 10px;
      background: #fbfbff;
    }
    figure img { max-width: 100%; height: auto; display: block; border-radius: 6px; }
    figcaption { font-size: 0.95rem; color: var(--muted); margin-top: 8px; }
    pre {
      background: #0b1020;
      color: #e2e8f0;
      padding: 14px;
      border-radius: 10px;
      overflow-x: auto;
    }
    code { font-family: "Cascadia Code", Consolas, monospace; font-size: 0.95rem; }
    table { width: 100%; border-collapse: collapse; margin: 10px 0; }
    th, td { border: 1px solid var(--line); padding: 8px 10px; text-align: left; }
    th { background: #f1f5f9; }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div>IF0100 - Lenguaje de Programacion OO II | Unidad 1</div>
      <h1>Clase 04: Sobrecarga, Sobreescritura y Modelado BD</h1>
      <div>Duracion: 90 minutos</div>
      <div class="meta">
        <div>
          <strong>Objetivos</strong>
          <ul>
            <li>Diferenciar sobrecarga y sobreescritura.</li>
            <li>Implementar sobrecarga de metodos y constructores.</li>
            <li>Sobrecargar operadores en C# con buenas practicas.</li>
            <li>Modelar una base de datos con diagramas ER.</li>
            <li>Identificar relaciones 1-1, 1-N y N-M.</li>
          </ul>
        </div>
        <div>
          <strong>Prerequisitos</strong>
          <ul>
            <li>Conceptos de clases, objetos y herencia.</li>
            <li>Conocimientos basicos de C# (metodos, clases).</li>
            <li>Herramienta de diagramacion (opcional).</li>
          </ul>
        </div>
      </div>
    </div>
  </header>

  <nav>
    <ul>
      <li><a href="#teoria">Teoria</a></li>
      <li><a href="#ejemplos">Ejemplos e infografias</a></li>
      <li><a href="#practica">Practica / laboratorio</a></li>
      <li><a href="#ejercicios">Ejercicios</a></li>
      <li><a href="#referencias">Referencias</a></li>
    </ul>
  </nav>

  <main>
    <section id="teoria">
      <h2>Teoria</h2>

      <h3>Sobrecarga vs sobreescritura</h3>
      <table>
        <thead>
          <tr><th>Aspecto</th><th>Sobrecarga</th><th>Sobreescritura</th></tr>
        </thead>
        <tbody>
          <tr><td>Ubicacion</td><td>Misma clase</td><td>Padre -> hija</td></tr>
          <tr><td>Parametros</td><td>Diferentes</td><td>Iguales</td></tr>
          <tr><td>Palabras clave</td><td>Ninguna</td><td>virtual / override</td></tr>
          <tr><td>Polimorfismo</td><td>Estatico (compilacion)</td><td>Dinamico (ejecucion)</td></tr>
        </tbody>
      </table>

      <h3>Reglas de sobrecarga</h3>
      <div class="grid-2">
        <div>
          <h4>Valido</h4>
          <ul>
            <li>Diferente cantidad de parametros.</li>
            <li>Diferentes tipos de parametros.</li>
            <li>Diferente orden de parametros.</li>
          </ul>
        </div>
        <div>
          <h4>No valido</h4>
          <ul>
            <li>Solo cambiar el tipo de retorno.</li>
            <li>Solo cambiar nombres de parametros.</li>
          </ul>
        </div>
      </div>

      <h3>Modelamiento de bases de datos</h3>
      <p>El modelado ER traduce el mundo real a estructuras de base de datos: entidades, atributos, claves primarias y foraneas.</p>
      <pre><code>Entidad (POO)  -> Tabla (BD)
Atributo       -> Columna
Objeto         -> Registro
PK             -> Id unico
FK             -> Referencia</code></pre>

      <h3>Cardinalidad</h3>
      <pre><code>1:1 Persona - Pasaporte
1:N Carrera - Estudiante
N:M Estudiante - Materia</code></pre>
      <div class="note">La cardinalidad define como se conectan las entidades en el modelo ER y determina el diseno fisico de tablas.</div>
    </section>

    <section id="ejemplos">
      <h2>Ejemplos e infografias</h2>

      <h3>Ejemplos de sobrecarga y sobreescritura</h3>
      <div class="grid-2">
        <div>
          <h4>Sobrecarga</h4>
          <pre><code class="language-csharp">class Calculadora
{
    int Sumar(int a, int b) => a + b;
    double Sumar(double a, double b) => a + b;
}</code></pre>
        </div>
        <div>
          <h4>Sobreescritura</h4>
          <pre><code class="language-csharp">class Animal
{
    public virtual void Hablar() { }
}
class Perro : Animal
{
    public override void Hablar() { }
}</code></pre>
        </div>
      </div>

      <h3>Infografia: sobrecarga vs sobreescritura</h3>
      <figure>
        <img src="../assets/infografias/clase-04-sobrecarga-vs-sobreescritura.png" alt="Infografia sobrecarga vs sobreescritura" />
        <figcaption>Diferencias clave entre sobrecarga (misma clase, firma diferente, resolucion estatica en compilacion) y sobreescritura (herencia padre-hija, misma firma, resolucion dinamica en ejecucion con virtual/override), ilustrando como cada mecanismo permite polimorfismo en C#.</figcaption>
      </figure>

      <h3>Sobrecarga de operadores</h3>
      <pre><code class="language-csharp">public class Fraccion
{
    public int Numerador { get; set; }
    public int Denominador { get; set; }

    public Fraccion(int n, int d)
    {
        Numerador = n;
        Denominador = d != 0 ? d : 1;
    }

    public static Fraccion operator +(Fraccion a, Fraccion b)
    {
        int num = a.Numerador * b.Denominador + b.Numerador * a.Denominador;
        int den = a.Denominador * b.Denominador;
        return new Fraccion(num, den);
    }
}</code></pre>
    </section>

    <section id="practica">
      <h2>Practica / laboratorio</h2>

      <h3>Ejercicio Guiado: Calculadora con Sobrecarga</h3>
      <p><strong>Objetivo:</strong> Implementar una clase <code>Calculadora</code> con sobrecarga de metodos para diferentes operaciones.</p>
      <p><strong>Duracion:</strong> 30 minutos</p>

      <h4>Requisitos</h4>
      <ul>
        <li>Metodo <code>Sumar</code> con 2 parametros int</li>
        <li>Metodo <code>Sumar</code> con 3 parametros int</li>
        <li>Metodo <code>Sumar</code> con 2 parametros double</li>
        <li>Metodo <code>Sumar</code> con params array (N enteros)</li>
        <li>Sobrecargar constructor con diferentes firmas</li>
      </ul>

      <h4>Checklist de Implementacion</h4>
      <table>
        <thead>
          <tr><th>Paso</th><th>Actividad</th><th>Tiempo</th></tr>
        </thead>
        <tbody>
          <tr><td>1</td><td>Crear proyecto de consola en Visual Studio</td><td>3 min</td></tr>
          <tr><td>2</td><td>Definir clase Calculadora con metodos sobrecargados</td><td>12 min</td></tr>
          <tr><td>3</td><td>Implementar Sumar(int, int) y Sumar(int, int, int)</td><td>5 min</td></tr>
          <tr><td>4</td><td>Implementar Sumar(double, double) y Sumar(params int[])</td><td>5 min</td></tr>
          <tr><td>5</td><td>Probar en Main con diferentes combinaciones</td><td>3 min</td></tr>
          <tr><td>6</td><td>Verificar que el compilador selecciona la version correcta</td><td>2 min</td></tr>
        </tbody>
      </table>

      <h4>Solucion de Referencia</h4>
      <pre><code class="language-csharp">public class Calculadora
{
    // 2 enteros
    public int Sumar(int a, int b) => a + b;

    // 3 enteros
    public int Sumar(int a, int b, int c) => a + b + c;

    // 2 doubles
    public double Sumar(double a, double b) => a + b;

    // N enteros (params array)
    public int Sumar(params int[] numeros)
    {
        int total = 0;
        foreach (int n in numeros)
            total += n;
        return total;
    }
}

// Uso en Main
class Program
{
    static void Main()
    {
        var calc = new Calculadora();
        Console.WriteLine(calc.Sumar(5, 3));        // 8 (int, int)
        Console.WriteLine(calc.Sumar(5, 3, 2));      // 10 (int, int, int)
        Console.WriteLine(calc.Sumar(5.5, 3.2));    // 8.7 (double, double)
        Console.WriteLine(calc.Sumar(1, 2, 3, 4));  // 10 (params)
    }
}</code></pre>

      <h3>Encadenamiento de Constructores</h3>
      <p><strong>Duracion:</strong> 15 minutos</p>
      <pre><code class="language-csharp">public class Estudiante
{
    public string Nombre { get; set; }
    public string Codigo { get; set; }
    public int Edad { get; set; }
    public string Carrera { get; set; }

    // Constructor completo
    public Estudiante(string n, string c, int e, string ca)
    {
        Nombre = n; Codigo = c; Edad = e; Carrera = ca;
    }

    // Constructor con 2 params (llama al completo)
    public Estudiante(string n, string c) : this(n, c, 18, "Sin carrera") { }

    // Constructor default (llama al de 2 params)
    public Estudiante() : this("Sin nombre", "0000000") { }
}

// Uso
var e1 = new Estudiante("Maria", "2024001", 20, "Ingenieria");
var e2 = new Estudiante("Carlos", "2024002");           // Edad=18, Sin carrera
var e3 = new Estudiante();                               // Nombre=Sin nombre...</code></pre>

      <h3>Modelamiento ER: Sistema de Biblioteca</h3>
      <p><strong>Duracion:</strong> 20 minutos</p>

      <h4>Entidades y Relaciones</h4>
      <table>
        <thead>
          <tr><th>Entidad</th><th>Atributos</th><th>PK</th><th>Relacion</th></tr>
        </thead>
        <tbody>
          <tr><td>Libro</td><td>ISBN, titulo, anio, paginas</td><td>ISBN</td><td>N:M con Autor</td></tr>
          <tr><td>Autor</td><td>ID, nombre, nacionalidad</td><td>ID</td><td>N:M con Libro</td></tr>
          <tr><td>Prestamo</td><td>ID, fecha_prestamo, fecha_devolucion</td><td>ID</td><td>N:1 con Libro, N:1 con Socio</td></tr>
          <tr><td>Socio</td><td>ID, nombre, direccion, telefono</td><td>ID</td><td>1:N con Prestamo</td></tr>
        </tbody>
      </table>

      <h4>Checklist de Modelado</h4>
      <ol>
        <li>Identificar entidades (Libro, Autor, Prestamo, Socio)</li>
        <li>Definir atributos y tipos de datos</li>
        <li>Establecer PK (ISBN para Libro, ID autoincremental para otros)</li>
        <li>Determinar cardinalidad (1:N, N:M)</li>
        <li>Crear tablas intermedias para N:M (Libro_Autor)</li>
        <li>Definir FK en las tablas correspondientes</li>
        <li>Validar normalizacion 3FN</li>
      </ol>
    </section>

    <section id="ejercicios">
      <h2>Ejercicios</h2>

      <h3>Ejercicio 1: Clase Complejo</h3>
      <p><strong>Nivel:</strong> Intermedio | <strong>Duracion:</strong> 30 minutos</p>
      <p>Crear una clase <code>Complejo</code> que represente numeros complejos con sobrecarga de operadores <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code> y comparadores <code>==</code>, <code>!=</code>.</p>

      <h4>Requisitos</h4>
      <ul>
        <li>Propiedades: <code>Real</code> y <code>Imaginario</code> (double)</li>
        <li>Constructor que reciba ambas partes</li>
        <li>Sobrecargar <code>+</code>: suma parte real e imaginaria</li>
        <li>Sobrecargar <code>-</code>: resta parte real e imaginaria</li>
        <li>Sobrecargar <code>*</code>: (a+bi)(c+di) = (ac-bd) + (ad+bc)i</li>
        <li>Sobrecargar <code>/</code>: division de complejos</li>
        <li>Sobrecargar <code>==</code> y <code>!=</code> para comparacion</li>
        <li>Override de <code>ToString()</code> para formato "a + bi"</li>
      </ul>

      <div class="note">
        <h4>Checklist</h4>
        <ul>
          <li>[ ] Constructor inicializa Real e Imaginario</li>
          <li>[ ] Operador + suma correctamente (3+2i) + (1+4i) = 4+6i</li>
          <li>[ ] Operador * aplica formula (ac-bd) + (ad+bc)i</li>
          <li>[ ] Operador == compara ambas partes</li>
          <li>[ ] ToString retorna formato correcto</li>
          <li>[ ] Operadores == y != son pares logicos</li>
        </ul>
      </div>

      <h3>Ejercicio 2: Tienda Online (Modelado ER)</h3>
      <p><strong>Nivel:</strong> Basico | <strong>Duracion:</strong> 25 minutos</p>
      <p>Modelar un diagrama ER para un sistema de tienda online con las entidades <code>Cliente</code>, <code>Producto</code> y <code>Orden</code>.</p>

      <h4>Requisitos</h4>
      <ul>
        <li>Definir atributos para cada entidad</li>
        <li>Establecer PK (Primary Key) para cada tabla</li>
        <li>Definir FK (Foreign Key) y relaciones</li>
        <li>Indicar cardinalidad (1:1, 1:N, N:M)</li>
        <li>Normalizar hasta 3FN</li>
      </ul>

      <h4>Solucion Esperada</h4>
      <table>
        <thead>
          <tr><th>Entidad</th><th>Atributos</th><th>PK</th><th>Relaciones</th></tr>
        </thead>
        <tbody>
          <tr><td>Cliente</td><td>id, nombre, email, direccion</td><td>id</td><td>1:N con Orden</td></tr>
          <tr><td>Orden</td><td>id, fecha, total, estado</td><td>id</td><td>N:1 con Cliente, N:M con Producto</td></tr>
          <tr><td>Producto</td><td>id, nombre, precio, stock</td><td>id</td><td>N:M con Orden</td></tr>
          <tr><td>OrdenDetalle</td><td>orden_id, producto_id, cantidad, subtotal</td><td>(orden_id, producto_id)</td><td>Tabla intermedia N:M</td></tr>
        </tbody>
      </table>

      <div class="note">
        <h4>Checklist</h4>
        <ul>
          <li>[ ] Cliente tiene 1 a muchas Ordenes</li>
          <li>[ ] Orden pertenece a 1 Cliente</li>
          <li>[ ] Orden tiene muchos Productos (N:M)</li>
          <li>[ ] Tabla intermedia OrdenDetalle creada</li>
          <li>[ ] PK compuesta en OrdenDetalle</li>
          <li>[ ] FK definidas correctamente</li>
        </ul>
      </div>

      <h3>Ejercicio 3: Sistema de Reservas</h3>
      <p><strong>Nivel:</strong> Avanzado | <strong>Duracion:</strong> 40 minutos</p>
      <p>Modelar un sistema de reservas de hotel con entidades <code>Habitacion</code>, <code>Cliente</code> y <code>Reserva</code>. Implementar clases en C# con relaciones.</p>

      <h4>Requisitos de Modelado</h4>
      <ul>
        <li>Habitacion: numero, tipo, capacidad, precio_por_noche</li>
        <li>Cliente: id, nombre, email, telefono</li>
        <li>Reserva: id, fecha_entrada, fecha_salida, estado</li>
        <li>Relaciones: Cliente-Reserva (1:N), Habitacion-Reserva (1:N)</li>
      </ul>

      <h4>Requisitos de Implementacion C#</h4>
      <ul>
        <li>Clases con propiedades y constructores</li>
        <li>Sobrecarga de constructores en Habitacion</li>
        <li>Metodo <code>CalcularNoches()</code> en Reserva</li>
        <li>Metodo <code>CalcularCostoTotal()</code> usando precio de Habitacion</li>
        <li>Validacion: fecha_salida > fecha_entrada</li>
      </ul>

      <div class="note">
        <h4>Checklist</h4>
        <ul>
          <li>[ ] Habitacion tiene constructor sobrecargado (con/sin numero)</li>
          <li>[ ] Reserva valida fechas en constructor</li>
          <li>[ ] CalcularNoches retorna diferencia correcta</li>
          <li>[ ] CalcularCostoTotal multiplica noches * precio</li>
          <li>[ ] Relaciones implementadas con propiedades de navegacion</li>
          <li>[ ] Datos validados antes de crear objetos</li>
        </ul>
      </div>

      <h3>Tarea para Casa</h3>
      <div class="note">
        <h4>Entregable: Sistema Vector con Sobrecarga</h4>
        <p><strong>Fecha limite:</strong> Proxima clase | <strong>Duracion estimada:</strong> 60 minutos</p>
        <p>Crear una clase <code>Vector2D</code> para representar vectores en 2D:</p>
        <ul>
          <li>Coordenadas X y Y (double)</li>
          <li>Sobrecargar <code>+</code>, <code>-</code> (suma y resta componente a componente)</li>
          <li>Sobrecargar <code>*</code> (producto por escalar)</li>
          <li>Sobrecargar <code>==</code> y <code>!=</code> (comparacion de componentes)</li>
          <li>Propiedad calculada <code>Magnitud</code> = sqrt(x^2 + y^2)</li>
          <li>Propiedad calculada <code>Normalizado</code> = vector / magnitud</li>
          <li>Metodo <code>DotProduct(Vector2D other)</code> = x1*x2 + y1*y2</li>
          <li>Constructor sobrecargado (default y con coordenadas)</li>
        </ul>
        <p><strong>Requisitos de entrega:</strong></p>
        <ul>
          <li>Repositorio en GitHub con README.md</li>
          <li>Codigo fuente en C# con comentarios</li>
          <li>Programa Main que demuestre todas las operaciones</li>
          <li>Capturas de pantalla de la ejecucion</li>
        </ul>
      </div>
    </section>

    <section id="referencias">
      <h2>Referencias</h2>
      <ul>
        <li>Documentacion oficial de C# (sobrecarga y sobreescritura).</li>
        <li>Guia de modelado ER y normalizacion (3FN).</li>
        <li>Material de clase IF0100 - Unidad 1.</li>
      </ul>
    </section>
  </main>
</body>
</html>
