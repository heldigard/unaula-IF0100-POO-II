<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clase 3: Clases y Objetos | IF0100</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <style>
        :root { --primary: #0d6efd; --success: #198754; --warning: #ffc107; --danger: #dc3545; --info: #0dcaf0; }
        header { background: linear-gradient(135deg, var(--primary) 0%, #0a58ca 100%); color: white; padding: 2rem 0; }
        .sidebar { background: #f8f9fa; border-radius: 8px; padding: 1.5rem; position: sticky; top: 2rem; }
        section { margin-bottom: 2rem; padding: 1.5rem; background: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        pre[class*="language-"] { border-radius: 6px; }
        .alert-tip { background: #d1e7dd; border-left: 4px solid var(--success); padding: 1rem; border-radius: 4px; }
        .alert-warning { background: #fff3cd; border-left: 4px solid var(--warning); padding: 1rem; border-radius: 4px; }
        .alert-note { background: #e7f3ff; border-left: 4px solid var(--info); padding: 1rem; border-radius: 4px; }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>IF0100 - Programación OO II</h1>
            <h2>Unidad 1: Programación Orientada a Objetos</h2>
            <h3>Clase 1: Clases y Objetos</h3>
            <p class="mt-2">
                <span class="badge bg-light text-dark">Semana 3 - Martes (120 minutos)</span>
                <span class="badge bg-info text-dark">60 min Teoría</span>
                <span class="badge bg-success text-white">60 min Práctica</span>
            </p>
            <p class="mt-2"><span class="badge bg-warning text-dark">E1: Examen POO - 9 días</span></p>
        </div>
    </header>

    <div class="container mt-4">
        <div class="row">
            <aside class="col-lg-3">
                <nav class="sidebar">
                    <h5>Contenido</h5>
                    <ul class="list-unstyled">
                        <li><a href="#objetivos" class="text-decoration-none">Objetivos</a></li>
                        <li><a href="#clase" class="text-decoration-none">¿Qué es una Clase?</a></li>
                        <li><a href="#init" class="text-decoration-none">Constructor __init__</a></li>
                        <li><a href="#self" class="text-decoration-none">El parámetro self</a></li>
                        <li><a href="#metodos" class="text-decoration-none">Métodos</a></li>
                        <li><a href="#ejercicio" class="text-decoration-none">Ejercicio: Clase Usuario</a></li>
                    </ul>
                </nav>
            </aside>

            <main class="col-lg-9">
                <!-- OBJETIVOS -->
                <section id="objetivos">
                    <h2 class="text-primary border-bottom pb-2">Objetivos de Aprendizaje</h2>
                    <p>Al finalizar esta clase, serás capaz de:</p>
                    <ul>
                        <li>Definir clases en Python usando <code>class</code></li>
                        <li>Crear objetos (instancias) de una clase</li>
                        <li>Usar <code>__init__</code> para inicializar objetos</li>
                        <li>Comprender el propósito de <code>self</code></li>
                        <li>Crear métodos para definir comportamientos</li>
                        <li>Implementar el modelo Usuario para TaskFlow</li>
                    </ul>
                </section>

                <!-- CLASES -->
                <section id="clase">
                    <h2 class="text-primary border-bottom pb-2">¿Qué es una Clase? (10 min)</h2>
                    
                    <p>La <strong>POO (Programación Orientada a Objetos)</strong> es un paradigma basado en objetos. Una <strong>clase</strong> es un molde o plantilla para crear objetos. Define <strong>atributos</strong> (datos) y <strong>métodos</strong> (comportamientos).</p>

                    <div class="alert-note">
                        <strong>Analogía:</strong> Una clase es como un plano de una casa, mientras que un objeto es una casa construida a partir de ese plano.
                    </div>

                    <h4>Sintaxis Básica</h4>
                    <pre><code class="language-python">class NombreClase:
    """Descripción de la clase."""
    
    # Atributo de clase (compartido por todos los objetos)
    atributo_clase = "valor"
    
    def __init__(self, parametro1, parametro2):
        """Constructor: inicializa el objeto."""
        # Atributos de instancia (únicos para cada objeto)
        self.atributo1 = parametro1
        self.atributo2 = parametro2
    
    def metodo(self):
        """Método de instancia."""
        return f"Atributo 1: {self.atributo1}"

# Crear objetos (instancias)
objeto1 = NombreClase("valor1", "valor2")
objeto2 = NombreClase("otro1", "otro2")

print(objeto1.atributo1)  # "valor1"
print(objeto2.atributo1)  # "otro1"</code></pre>

                    <h4>Ejemplo: Clase Perro</h4>
                    <pre><code class="language-python">class Perro:
    """Representa un perro con nombre y edad."""
    
    especie = "Canis familiaris"  # Atributo de clase
    
    def __init__(self, nombre, edad):
        self.nombre = nombre  # Atributo de instancia
        self.edad = edad      # Atributo de instancia
    
    def ladrar(self):
        return f"{self.nombre} dice: ¡Guau!"
    
    def es_cachorro(self):
        return self.edad < 2

# Crear perros
mi_perro = Perro("Fido", 3)
otro_perro = Perro("Rex", 1)

print(mi_perro.ladrar())       # "Fido dice: ¡Guau!"
print(mi_perro.es_cachorro())  # False
print(otro_perro.es_cachorro()) # True</code></pre>
                </section>

                <!-- CONSTRUCTOR -->
                <section id="init">
                    <h2 class="text-primary border-bottom pb-2">Constructor __init__ (15 min)</h2>
                    
                    <p>El método <code>__init__</code> se ejecuta automáticamente cuando se crea un objeto. Sirve para <strong>inicializar</strong> los atributos.</p>

                    <h4>Ejemplo: Clase Persona</h4>
                    <pre><code class="language-python">class Persona:
    def __init__(self, nombre, edad, email=None):
        """Constructor: inicializa una persona."""
        self.nombre = nombre
        self.edad = edad
        self.email = email
        self.activo = True  # Valor por defecto
    
    def presentarse(self):
        return f"Hola, soy {self.nombre} y tengo {self.edad} años."

# Crear personas
juan = Persona("Juan", 25, "juan@email.com")
ana = Persona("Ana", 30)

print(juan.presentarse())
print(f"Email de Juan: {juan.email}")
print(f"Email de Ana: {ana.email}")  # None</code></pre>

                    <h4>Valores por Defecto</h4>
                    <pre><code class="language-python">class Producto:
    def __init__(self, nombre, precio, cantidad=0):
        self.nombre = nombre
        self.precio = precio
        self.cantidad = cantidad  # Si no se pasa, es 0

# Uso
p1 = Producto("Laptop", 1000, 5)  # cantidad = 5
p2 = Producto("Mouse", 25)         # cantidad = 0 (por defecto)

print(f"{p1.nombre}: {p1.cantidad} unidades")
print(f"{p2.nombre}: {p2.cantidad} unidades")</code></pre>
                </section>

                <!-- SELF -->
                <section id="self">
                    <h2 class="text-primary border-bottom pb-2">El parámetro self (10 min)</h2>
                    
                    <p><code>self</code> representa la instancia actual del objeto. Permite acceder a sus atributos y métodos.</p>

                    <div class="alert-warning">
                        <strong>Importante:</strong> Aunque <code>self</code> es el primer parámetro de los métodos, <strong>NO</strong> lo pasas al llamar el método. Python lo hace automáticamente.
                    </div>

                    <pre><code class="language-python">class CuentaBancaria:
    def __init__(self, titular, saldo_inicial=0):
        self.titular = titular
        self.saldo = saldo_inicial
    
    def depositar(self, cantidad):
        """self permite modificar los atributos del objeto."""
        if cantidad > 0:
            self.saldo += cantidad
            return f"Depósito exitoso. Nuevo saldo: ${self.saldo}"
        return "Cantidad inválida"
    
    def retirar(self, cantidad):
        """self permite leer y modificar atributos."""
        if cantidad <= self.saldo:
            self.saldo -= cantidad
            return f"Retiro exitoso. Nuevo saldo: ${self.saldo}"
        return "Saldo insuficiente"
    
    def consultar_saldo(self):
        """self permite leer atributos."""
        return f"Saldo de {self.titular}: ${self.saldo}"

# Uso - ¡No pasamos self!
cuenta = CuentaBancaria("Juan", 1000)
print(cuenta.consultar_saldo())  # Saldo de Juan: $1000
print(cuenta.depositar(500))     # Depósito exitoso...
print(cuenta.retirar(200))       # Retiro exitoso...
print(cuenta.consultar_saldo())  # Saldo de Juan: $1300</code></pre>
                </section>

                <!-- MÉTODOS -->
                <section id="metodos">
                    <h2 class="text-primary border-bottom pb-2">Métodos Especiales (10 min)</h2>
                    
                    <p>Python tiene métodos especiales (dunder methods) que comienzan y terminan con <code>__</code>.</p>

                    <table class="table">
                        <tr>
                            <th>Método</th>
                            <th>Cuándo se usa</th>
                            <th>Ejemplo</th>
                        </tr>
                        <tr>
                            <td><code>__init__</code></td>
                            <td>Crear objeto</td>
                            <td><code>obj = Clase()</code></td>
                        </tr>
                        <tr>
                            <td><code>__str__</code></td>
                            <td>Imprimir objeto</td>
                            <td><code>print(obj)</code></td>
                        </tr>
                        <tr>
                            <td><code>__repr__</code></td>
                            <td>Representación técnica</td>
                            <td><code>repr(obj)</code></td>
                        </tr>
                        <tr>
                            <td><code>__eq__</code></td>
                            <td>Comparar objetos</td>
                            <td><code>obj1 == obj2</code></td>
                        </tr>
                    </table>

                    <pre><code class="language-python">class Punto:
    def __init__(self, x, y):
        self.x = x
        self.y = y
    
    def __str__(self):
        """Representación amigable para usuarios."""
        return f"({self.x}, {self.y})"
    
    def __repr__(self):
        """Representación técnica para debugging."""
        return f"Punto(x={self.x}, y={self.y})"
    
    def __eq__(self, otro):
        """Comparar dos puntos."""
        return self.x == otro.x and self.y == otro.y

p1 = Punto(3, 4)
p2 = Punto(3, 4)
p3 = Punto(1, 2)

print(p1)           # (3, 4) - usa __str__
print(repr(p1))     # Punto(x=3, y=4) - usa __repr__
print(p1 == p2)     # True - usa __eq__
print(p1 == p3)     # False</code></pre>
                </section>

                <!-- EJERCICIO -->
                <section id="ejercicio">
                    <h2 class="text-primary border-bottom pb-2">Ejercicio: Clase Usuario (25 min)</h2>
                    
                    <p>Vamos a crear el modelo <strong>Usuario</strong> para el proyecto TaskFlow.</p>

                    <h4>Requisitos</h4>
                    <ul>
                        <li>Atributos: username, email, nombre_completo (opcional)</li>
                        <li>Métodos: presentarse(), es_valido(), activar(), desactivar()</li>
                        <li>Validar que username tenga al menos 3 caracteres</li>
                        <li>Validar que email contenga "@"</li>
                    </ul>

                    <pre><code class="language-python"># usuario.py
class Usuario:
    """Representa un usuario en el sistema TaskFlow."""
    
    def __init__(self, username, email, nombre_completo=None):
        """Inicializa un usuario."""
        self.username = username
        self.email = email
        self.nombre_completo = nombre_completo
        self.activo = True
    
    def __str__(self):
        return f"@{self.username}"
    
    def __repr__(self):
        return f"Usuario('{self.username}', '{self.email}')"
    
    def presentarse(self):
        """Retorna una presentación del usuario."""
        if self.nombre_completo:
            return f"Hola, soy {self.nombre_completo} (@{self.username})"
        return f"Hola, soy @{self.username}"
    
    def es_valido(self):
        """Valida los datos del usuario."""
        if len(self.username) < 3:
            return False, "Username debe tener al menos 3 caracteres"
        
        if "@" not in self.email:
            return False, "Email debe contener @"
        
        return True, "Válido"
    
    def activar(self):
        """Activa la cuenta del usuario."""
        self.activo = True
    
    def desactivar(self):
        """Desactiva la cuenta del usuario."""
        self.activo = False
    
    def esta_activo(self):
        """Retorna True si el usuario está activo."""
        return self.activo


# === PRUEBAS ===
if __name__ == "__main__":
    # Crear usuarios
    usuario1 = Usuario("juan123", "juan@example.com", "Juan Pérez")
    usuario2 = Usuario("ana", "ana@example.com")
    usuario3 = Usuario("ab", "email-invalido")  # Inválido
    
    # Probar presentación
    print(usuario1.presentarse())
    print(usuario2.presentarse())
    
    # Probar validación
    for u in [usuario1, usuario2, usuario3]:
        valido, mensaje = u.es_valido()
        estado = "✅" if valido else "❌"
        print(f"{estado} {u}: {mensaje}")
    
    # Probar activación
    usuario1.desactivar()
    print(f"\n{usuario1} activo: {usuario1.esta_activo()}")
    usuario1.activar()
    print(f"{usuario1} activo: {usuario1.esta_activo()}")
    
    # Mostrar representación
    print(f"\nRepresentación: {repr(usuario1)}")</code></pre>

                    <div class="alert-note">
                        <strong>Conexión con TaskFlow:</strong> Esta clase Usuario es la base del sistema. En las siguientes clases agregaremos: encapsulamiento (propiedades), herencia (tipos de usuarios), y persistencia (guardar en base de datos).
                    </div>

                    <h4>Retos Adicionales</h4>
                    <ol>
                        <li>Agrega atributo <code>fecha_registro</code> que se establezca automáticamente</li>
                        <li>Agrega método <code>cambiar_email(nuevo_email)</code> con validación</li>
                        <li>Agrega método <code>to_dict()</code> que retorne un diccionario con los datos</li>
                    </ol>
                </section>

                <!-- RESUMEN -->
                <section>
                    <h2 class="text-primary border-bottom pb-2">Resumen</h2>
                    
                    <ul>
                        <li><strong>Clase:</strong> Plantilla que define atributos y métodos</li>
                        <li><strong>Objeto:</strong> Instancia creada a partir de una clase</li>
                        <li><strong>__init__:</strong> Constructor que inicializa el objeto</li>
                        <li><strong>self:</strong> Referencia al objeto actual (no se pasa al llamar)</li>
                        <li><strong>Atributos:</strong> Variables que almacenan datos del objeto</li>
                        <li><strong>Métodos:</strong> Funciones que definen comportamientos del objeto</li>
                    </ul>
                    
                    <div class="alert-tip">
                        <strong>Para el examen E1:</strong> Practica crear clases con __init__, atributos y métodos. Será parte de la evaluación.
                    </div>
                </section>
            </main>
        </div>
    </div>

    <footer class="bg-light text-center py-3 mt-5">
        <div class="container">
            <p class="mb-0">&copy; 2026 IF0100 - UNAULA | <a href="../unidad-00/clase-02-estructuras-datos.html">← Anterior</a> | <a href="clase-02-encapsulamiento.html">Siguiente: Encapsulamiento →</a></p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
</body>
</html>