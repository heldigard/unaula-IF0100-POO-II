<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clase 5: Proyecto Final | IF0100</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
    <style>
        :root { --primary: #0d6efd; --success: #198754; --warning: #ffc107; --danger: #dc3545; --info: #0dcaf0; }
        header { background: linear-gradient(135deg, var(--danger) 0%, #c82333 100%); color: white; padding: 2rem 0; }
        .sidebar { background: #f8f9fa; border-radius: 8px; padding: 1.5rem; position: sticky; top: 2rem; }
        section { margin-bottom: 2rem; padding: 1.5rem; background: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        pre[class*="language-"] { border-radius: 6px; }
        .alert-tip { background: #d1e7dd; border-left: 4px solid var(--success); padding: 1rem; border-radius: 4px; }
        .alert-warning { background: #fff3cd; border-left: 4px solid var(--warning); padding: 1rem; border-radius: 4px; }
        .alert-note { background: #e7f3ff; border-left: 4px solid var(--info); padding: 1rem; border-radius: 4px; }
        .alert-danger { background: #f8d7da; border-left: 4px solid var(--danger); padding: 1rem; border-radius: 4px; }
        .checklist { list-style: none; padding-left: 0; }
        .checklist li:before { content: "☐ "; color: var(--primary); }
        .checklist li.done:before { content: "☑ "; color: var(--success); }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>IF0100 - Programacion OO II</h1>
            <h2>Unidad 5: Arquitectura de Datos Desconectados</h2>
            <h3>Clase 5: Proyecto Final - E6</h3>
            <p class="mt-2">
                <span class="badge bg-light text-dark"><i class="bi bi-calendar3"></i> Martes, 09 de junio de 2026</span>
                <span class="badge bg-info text-dark">Semana 19 - Martes (120 minutos)</span>
                <span class="badge bg-primary">60 min Teoría</span>
                <span class="badge bg-success text-white">60 min Práctica</span>
            </p>
            <p class="mt-2"><span class="badge bg-secondary">Curso completado</span></p>
        </div>
    </header>

    <div class="container mt-4">
        <div class="row">
            <aside class="col-lg-3">
                <nav class="sidebar">
                    <h5>Contenido</h5>
                    <ul class="list-unstyled">
                        <li><a href="#objetivos" class="text-decoration-none">Objetivos</a></li>
                        <li><a href="#requisitos" class="text-decoration-none">Requisitos E6</a></li>
                        <li><a href="#arquitectura" class="text-decoration-none">Arquitectura</a></li>
                        <li><a href="#estructura" class="text-decoration-none">Estructura Proyecto</a></li>
                        <li><a href="#endpoints" class="text-decoration-none">Endpoints Requeridos</a></li>
                        <li><a href="#criterios" class="text-decoration-none">Criterios Evaluacion</a></li>
                        <li><a href="#presentacion" class="text-decoration-none">Presentacion</a></li>
                    </ul>
                </nav>
            </aside>

            <main class="col-lg-9">
                <section id="objetivos">
                    <h2 class="text-primary border-bottom pb-2">Objetivos de Aprendizaje</h2>
                    <p>Al finalizar esta clase, el estudiante habra demostrado:</p>
                    <ul>
                        <li>Dominio de <strong>Programacion Orientada a Objetos</strong> en Python</li>
                        <li>Implementacion de <strong>API REST</strong> con FastAPI</li>
                        <li>Uso de <strong>patrones de diseño</strong>: Repository, Factory, DTO</li>
                        <li>Persistencia con <strong>SQLAlchemy ORM</strong></li>
                        <li>Aplicacion de <strong>Clean Architecture</strong></li>
                    </ul>
                </section>

                <section id="requisitos">
                    <h2 class="text-danger border-bottom pb-2">Requisitos del Proyecto E6</h2>
                    
                    <div class="alert-danger">
                        <strong>Fecha de Entrega:</strong> Jueves 28 de Mayo de 2026, 7:00 AM
                    </div>

                    <h4 class="mt-4">Descripcion General</h4>
                    <p>Desarrollar una <strong>API REST</strong> para gestionar un sistema de tareas/proyectos que implemente:</p>
                    <ul class="checklist">
                        <li>CRUD completo de al menos 2 entidades relacionadas</li>
                        <li>Persistencia en SQLite con SQLAlchemy</li>
                        <li>Arquitectura en capas (Controllers, Services, Repositories)</li>
                        <li>DTOs con Pydantic</li>
                        <li>Paginacion y filtros</li>
                        <li>Manejo de errores HTTP</li>
                        <li>Tests unitarios con pytest</li>
                    </ul>

                    <h4 class="mt-4">Tecnologias Obligatorias</h4>
                    <table class="table table-bordered">
                        <tr><th>Tecnologia</th><th>Version</th><th>Uso</th></tr>
                        <tr><td>Python</td><td>3.10+</td><td>Lenguaje principal</td></tr>
                        <tr><td>FastAPI</td><td>0.100+</td><td>Framework web</td></tr>
                        <tr><td>SQLAlchemy</td><td>2.0+</td><td>ORM</td></tr>
                        <tr><td>Pydantic</td><td>2.0+</td><td>Validacion/DTOs</td></tr>
                        <tr><td>pytest</td><td>7.0+</td><td>Testing</td></tr>
                        <tr><td>SQLite</td><td>3.x</td><td>Base de datos</td></tr>
                    </table>
                </section>

                <section id="arquitectura">
                    <h2 class="text-primary border-bottom pb-2">Arquitectura Requerida</h2>
                    
                    <pre><code class="language-text">proyecto-final/
├── app/
│   ├── __init__.py
│   ├── main.py                 # FastAPI app
│   ├── config.py               # Configuracion
│   │
│   ├── domain/                 # Capa Dominio
│   │   ├── __init__.py
│   │   ├── entities.py         # Entidades de negocio
│   │   └── repositories.py     # Interfaces (ABC)
│   │
│   ├── infrastructure/         # Capa Infraestructura
│   │   ├── __init__.py
│   │   ├── database.py         # SQLAlchemy setup
│   │   ├── models.py           # Modelos ORM
│   │   └── repositories_impl.py
│   │
│   ├── application/            # Capa Aplicacion
│   │   ├── __init__.py
│   │   ├── services.py         # Logica de negocio
│   │   └── dtos.py             # DTOs Pydantic
│   │
│   └── interfaces/             # Capa Presentacion
│       ├── __init__.py
│       └── controllers.py      # Rutas FastAPI
│
├── tests/
│   ├── __init__.py
│   ├── conftest.py
│   ├── test_services.py
│   └── test_controllers.py
│
├── requirements.txt
├── README.md
└── .gitignore</code></pre>

                    <div class="alert-tip">
                        <strong>Clean Architecture:</strong> Las dependencias van de afuera hacia adentro.
                        El dominio NO depende de infraestructura.
                    </div>
                </section>

                <section id="estructura">
                    <h2 class="text-primary border-bottom pb-2">Estructura de Entidades</h2>
                    
                    <pre><code class="language-python"># domain/entities.py
from dataclasses import dataclass
from datetime import datetime
from typing import Optional
from enum import Enum

class Prioridad(str, Enum):
    BAJA = "baja"
    MEDIA = "media"
    ALTA = "alta"

@dataclass
class Proyecto:
    id: Optional[int]
    nombre: str
    descripcion: str
    creado_en: datetime
    tareas: list = None
    
    def __post_init__(self):
        if self.tareas is None:
            self.tareas = []

@dataclass
class Tarea:
    id: Optional[int]
    titulo: str
    descripcion: str
    completada: bool
    prioridad: Prioridad
    proyecto_id: int
    creado_en: datetime
    actualizado_en: Optional[datetime] = None</code></pre>
                </section>

                <section id="endpoints">
                    <h2 class="text-primary border-bottom pb-2">Endpoints Requeridos</h2>
                    
                    <h4>Proyectos</h4>
                    <table class="table table-sm table-bordered">
                        <tr><th>Metodo</th><th>Endpoint</th><th>Descripcion</th></tr>
                        <tr><td>GET</td><td>/api/v1/proyectos</td><td>Listar (paginado)</td></tr>
                        <tr><td>GET</td><td>/api/v1/proyectos/{id}</td><td>Obtener por ID</td></tr>
                        <tr><td>POST</td><td>/api/v1/proyectos</td><td>Crear</td></tr>
                        <tr><td>PATCH</td><td>/api/v1/proyectos/{id}</td><td>Actualizar</td></tr>
                        <tr><td>DELETE</td><td>/api/v1/proyectos/{id}</td><td>Eliminar</td></tr>
                    </table>

                    <h4 class="mt-3">Tareas</h4>
                    <table class="table table-sm table-bordered">
                        <tr><th>Metodo</th><th>Endpoint</th><th>Descripcion</th></tr>
                        <tr><td>GET</td><td>/api/v1/tareas</td><td>Listar (paginado + filtros)</td></tr>
                        <tr><td>GET</td><td>/api/v1/proyectos/{id}/tareas</td><td>Tareas de un proyecto</td></tr>
                        <tr><td>GET</td><td>/api/v1/tareas/{id}</td><td>Obtener por ID</td></tr>
                        <tr><td>POST</td><td>/api/v1/tareas</td><td>Crear</td></tr>
                        <tr><td>PATCH</td><td>/api/v1/tareas/{id}</td><td>Actualizar</td></tr>
                        <tr><td>DELETE</td><td>/api/v1/tareas/{id}</td><td>Eliminar</td></tr>
                    </table>

                    <h4 class="mt-3">Filtros Requeridos para GET /tareas</h4>
                    <ul>
                        <li><code>?completada=true/false</code></li>
                        <li><code>?prioridad=alta/media/baja</code></li>
                        <li><code>?proyecto_id=1</code></li>
                        <li><code>?buscar=texto</code></li>
                        <li><code>?pagina=1&por_pagina=10</code></li>
                    </ul>
                </section>

                <section id="criterios">
                    <h2 class="text-primary border-bottom pb-2">Criterios de Evaluacion (100 pts)</h2>
                    
                    <table class="table table-bordered">
                        <tr><th>Criterio</th><th>Puntos</th><th>Descripcion</th></tr>
                        <tr>
                            <td>Arquitectura</td>
                            <td>25</td>
                            <td>Separacion en capas, dependencias correctas</td>
                        </tr>
                        <tr>
                            <td>Patrones</td>
                            <td>20</td>
                            <td>Repository, DTO, Factory implementados</td>
                        </tr>
                        <tr>
                            <td>Funcionalidad</td>
                            <td>20</td>
                            <td>CRUD completo, filtros, paginacion</td>
                        </tr>
                        <tr>
                            <td>Calidad Codigo</td>
                            <td>15</td>
                            <td>PEP 8, tipado, documentacion</td>
                        </tr>
                        <tr>
                            <td>Testing</td>
                            <td>10</td>
                            <td>Cobertura > 70%, tests significativos</td>
                        </tr>
                        <tr>
                            <td>Documentacion</td>
                            <td>10</td>
                            <td>README claro, instrucciones de uso</td>
                        </tr>
                    </table>

                    <div class="alert-warning">
                        <strong>Entregables:</strong>
                        <ul class="mb-0">
                            <li>Repositorio GitHub con codigo fuente</li>
                            <li>README con instrucciones de instalacion y uso</li>
                            <li>Coleccion Postman/Insomnia para probar API</li>
                        </ul>
                    </div>
                </section>

                <section id="presentacion">
                    <h2 class="text-primary border-bottom pb-2">Formato de Presentacion</h2>
                    
                    <h4>Duracion: 10-15 minutos por estudiante</h4>
                    <ol>
                        <li><strong>Introduccion (2 min)</strong> - Descripcion del proyecto</li>
                        <li><strong>Arquitectura (3 min)</strong> - Explicar capas y patrones</li>
                        <li><strong>Demo (5 min)</strong> - Mostrar API funcionando</li>
                        <li><strong>Codigo (3 min)</strong> - Explicar partes clave</li>
                        <li><strong>Tests (2 min)</strong> - Mostrar cobertura</li>
                        <li><strong>Preguntas (5 min)</strong> - Defensa del proyecto</li>
                    </ol>

                    <div class="alert-tip">
                        <strong>Consejos:</strong>
                        <ul class="mb-0">
                            <li>Prepara la demo antes de la clase</li>
                            <li>Ten la base de datos con datos de prueba</li>
                            <li>Conoce tu codigo - se capaz de explicarlo</li>
                        </ul>
                    </div>
                </section>

                <section>
                    <h2 class="text-primary border-bottom pb-2">Resumen del Curso</h2>
                    
                    <h4>Lo que aprendimos:</h4>
                    <table class="table table-bordered">
                        <tr><th>Unidad</th><th>Tema</th><th>Conceptos Clave</th></tr>
                        <tr><td>0</td><td>Introduccion</td><td>POO, Python, Entorno</td></tr>
                        <tr><td>1</td><td>POO Avanzado</td><td>Herencia, Polimorfismo, ABC</td></tr>
                        <tr><td>2</td><td>Calidad</td><td>TDD, DDD, Refactoring</td></tr>
                        <tr><td>3</td><td>FastAPI</td><td>Rutas, Dependencias, Validacion</td></tr>
                        <tr><td>4</td><td>Persistencia</td><td>SQLAlchemy, ORM, Alembic</td></tr>
                        <tr><td>5</td><td>Arquitectura</td><td>Repository, Clean Arch, DTOs</td></tr>
                    </table>

                    <div class="alert-note">
                        <strong>¡Felicitaciones por completar el curso!</strong><br>
                        Recuerda que la programacion es una habilidad que se desarrolla con practica constante.
                    </div>
                </section>
            </main>
        </div>
    </div>

    <footer class="bg-light text-center py-3 mt-5">
        <div class="container">
            <p class="mb-0">&copy; 2026 IF0100 - UNAULA | <a href="clase-04-api-rest-avanzada.html">← Anterior</a> | <a href="../index.html">Volver al Indice</a></p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
</body>
</html>
