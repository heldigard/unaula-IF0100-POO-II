<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Clase 10 - Angular: Componentes, Servicios y Routing | IF0100 - POO II</title>
  <style>
    :root {
      --bg: #f7f7f4;
      --ink: #1f2933;
      --muted: #52606d;
      --brand: #1e3a8a;
      --accent: #dd0031;
      --card: #ffffff;
      --line: #d9e2ec;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: "IBM Plex Sans", "Segoe UI", Tahoma, sans-serif;
      color: var(--ink);
      background: var(--bg);
      line-height: 1.65;
    }
    header {
      background: linear-gradient(135deg, #dd0031, #c3002f);
      color: #fff;
      padding: 36px 20px 28px;
    }
    header .wrap { max-width: 1100px; margin: 0 auto; }
    header h1 {
      font-family: "Merriweather", Georgia, serif;
      margin: 8px 0 10px;
      font-size: 2.2rem;
    }
    header .meta {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 16px;
      margin-top: 18px;
      background: rgba(255, 255, 255, 0.12);
      padding: 16px;
      border-radius: 12px;
    }
    header ul { margin: 8px 0 0 18px; }
    nav {
      max-width: 1100px;
      margin: 18px auto 0;
      padding: 14px 18px;
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 12px;
    }
    nav ul {
      list-style: none;
      padding: 0;
      margin: 0;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 8px 14px;
    }
    nav a {
      color: var(--brand);
      text-decoration: none;
      padding: 8px 10px;
      border-radius: 8px;
      background: #eef2ff;
      display: block;
    }
    nav a:hover { background: #dbeafe; }
    main { max-width: 1100px; margin: 18px auto 60px; padding: 0 20px; }
    section {
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 12px;
      padding: 22px;
      margin: 18px 0;
    }
    h2 { margin-top: 0; color: var(--brand); font-size: 1.6rem; border-bottom: 3px solid var(--accent); padding-bottom: 6px; }
    h3 { color: #0b2d6b; margin-top: 20px; }
    h4 { color: #2f4b7c; margin-top: 16px; }
    .grid-2 {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 16px;
      align-items: start;
    }
    .note {
      background: #f0f4ff;
      border-left: 4px solid var(--accent);
      padding: 10px 12px;
      border-radius: 8px;
      color: var(--muted);
    }
    .warning-box {
      background: #fef2f2;
      border-left: 4px solid #dc2626;
      padding: 10px 12px;
      border-radius: 8px;
      color: #991b1b;
    }
    figure {
      margin: 0;
      padding: 12px;
      border: 1px dashed var(--line);
      border-radius: 10px;
      background: #fbfbff;
    }
    figure img { max-width: 100%; height: auto; display: block; border-radius: 6px; }
    figcaption { font-size: 0.95rem; color: var(--muted); margin-top: 8px; }
    pre {
      background: #0b1020;
      color: #e2e8f0;
      padding: 14px;
      border-radius: 10px;
      overflow-x: auto;
    }
    code { font-family: "Cascadia Code", Consolas, monospace; font-size: 0.95rem; }
    /* Syntax highlighting para TypeScript */
    .token-keyword { color: #c792ea; font-weight: 600; }
    .token-type { color: #ffcb6b; }
    .token-string { color: #c3e88d; }
    .token-comment { color: #546e7a; font-style: italic; }
    .token-number { color: #f78c6c; }
    .token-operator { color: #89ddff; }
    /* Accessibility */
    abbr[title] { text-decoration: underline dotted; cursor: help; }
    .skip-link {
      position: absolute;
      top: -40px;
      left: 0;
      background: var(--brand);
      color: #fff;
      padding: 8px 16px;
      text-decoration: none;
      z-index: 100;
      transition: top 0.3s;
    }
    .skip-link:focus { top: 0; }
    table { width: 100%; border-collapse: collapse; margin: 10px 0; }
    th, td { border: 1px solid var(--line); padding: 8px 10px; text-align: left; }
    th { background: #f1f5f9; }
    /* Print styles */
    @media print {
      header, nav, footer { background: white !important; color: black !important; }
      a[href]:after { content: " (" attr(href) ")"; font-size: 0.8em; }
      pre, code { white-space: pre-wrap; }
    }

    /* BLOQUES DE CÓDIGO MEJORADOS */
    .code-block {
      background: #1e1e2e;
      border-radius: 12px;
      margin: 16px 0;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
      border: 1px solid #313244;
    }

    .code-header {
      background: linear-gradient(90deg, #313244 0%, #45475a 100%);
      padding: 10px 16px;
      display: flex;
      align-items: center;
      gap: 10px;
      border-bottom: 1px solid #45475a;
    }

    .code-dots {
      display: flex;
      gap: 6px;
    }

    .code-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
    }

    .code-dot.red { background: #f38ba8; }
    .code-dot.yellow { background: #f9e2af; }
    .code-dot.green { background: #a6e3a1; }

    .code-title {
      color: #cdd6f4;
      font-size: 0.85rem;
      font-weight: 600;
      margin-left: auto;
      font-family: 'Cascadia Code', Consolas, monospace;
    }

    .code-content {
      display: flex;
      background: #1e1e2e;
    }

    .line-numbers {
      background: #181825;
      color: #6c7086;
      padding: 12px 10px;
      text-align: right;
      font-family: 'Cascadia Code', Consolas, monospace;
      font-size: 0.9rem;
      line-height: 1.5;
      user-select: none;
      border-right: 1px solid #313244;
    }

    .code-block pre {
      background: transparent;
      margin: 0;
      padding: 12px 16px;
      flex: 1;
      overflow-x: auto;
    }

    .code-block pre code {
      color: #cdd6f4;
      font-size: 0.95rem;
      line-height: 1.5;
      display: block;
    }

    /* Syntax highlighting mejorado - Catppuccin Mocha theme */
    .code-block .token-keyword { color: #cba6f7; font-weight: 600; }
    .code-block .token-type { color: #f9e2af; }
    .code-block .token-string { color: #a6e3a1; }
    .code-block .token-comment { color: #6c7086; font-style: italic; }
    .code-block .token-number { color: #fab387; }
    .code-block .token-operator { color: #89dceb; }
    .code-block .token-method { color: #89b4fa; }
    .code-block .token-class { color: #f9e2af; font-weight: 600; }
    .code-block .token-property { color: #b4befe; }
    .code-block .token-namespace { color: #f38ba8; }
    .code-block .token-decorator { color: #f9e2af; font-weight: 600; }

    /* Código inline */
    p code, li code {
      background: #313244;
      color: #cdd6f4;
      padding: 2px 8px;
      border-radius: 6px;
      font-size: 0.9em;
      border: 1px solid #45475a;
    }

    /* Tablas de código */
    .code-comparison {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 16px;
      margin: 16px 0;
    }

    .code-comparison .code-block {
      margin: 0;
    }

    .code-label {
      font-size: 0.8rem;
      color: #6c7086;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 6px;
    }
  </style>
</head>
<body>
  <a href="#main" class="skip-link">Saltar al contenido</a>
  <header>
    <div class="wrap">
      <div>IF0100 - Lenguaje de Programación OO II | Unidad 3</div>
      <h1>Clase 10: Angular - Componentes, Servicios y Routing</h1>
      <div>Duración: 90 minutos</div>
      <div class="meta">
        <div>
          <strong>Objetivos</strong>
          <ul>
            <li>Comprender la arquitectura de componentes Angular.</li>
            <li>Crear y usar servicios con <code>@Injectable</code> e inyección de dependencias (<abbr title="DI: Dependency Injection, patrón de diseño donde el framework proporciona las dependencias que una clase necesita">DI</abbr>).</li>
            <li>Implementar navegación con Angular Router.</li>
            <li>Consumir APIs REST con <code>HttpClient</code>.</li>
            <li>Crear interfaces TypeScript para tipado de datos.</li>
          </ul>
        </div>
        <div>
          <strong>Prerrequisitos</strong>
          <ul>
            <li>TypeScript básico.</li>
            <li>HTML/CSS fundamentales.</li>
            <li>Conceptos de POO (clases, interfaces).</li>
            <li>Node.js 18+ y Angular CLI instalados.</li>
          </ul>
        </div>
      </div>
    </div>
  </header>

  <nav>
    <ul>
      <li><a href="#teoria">Teoría</a></li>
      <li><a href="#ejemplos">Ejemplos</a></li>
      <li><a href="#practica">Práctica / laboratorio</a></li>
      <li><a href="#ejercicios">Ejercicios</a></li>
      <li><a href="#referencias">Referencias</a></li>
    </ul>
  </nav>

  <main id="main">
    <section id="teoria">
      <h2>Teoría</h2>

      <h3>¿Qué es Angular?</h3>
      <p><strong><abbr title="Angular: Framework de desarrollo frontend mantenido por Google para construir aplicaciones web SPA usando TypeScript">Angular</abbr></strong> es un framework de código abierto mantenido por Google para construir aplicaciones web de una sola página (<abbr title="SPA: Single Page Application, aplicación que carga una sola página HTML y actualiza dinámicamente el contenido sin recargar">SPA</abbr>). Usa <strong>TypeScript</strong> como lenguaje principal y sigue una arquitectura basada en componentes.</p>
      
      <div class="note">
        <h4>¿Por qué Angular?</h4>
        <ul>
          <li><strong>Arquitectura robusta:</strong> Estructura clara con componentes, servicios y módulos</li>
          <li><strong>TypeScript:</strong> Tipado estático que previene errores en tiempo de desarrollo</li>
          <li><strong>Inyección de dependencias:</strong> Sistema DI integrado para código desacoplado</li>
          <li><strong>Herramientas oficiales:</strong> Angular CLI, Router, HttpClient, Forms</li>
          <li><strong>Comunidad empresarial:</strong> Amplio soporte y adopción en empresas</li>
        </ul>
      </div>

      <h3>Componentes Angular (@Component)</h3>
      <p>Los <strong>componentes</strong> son los bloques de construcción fundamentales en Angular. Cada componente controla una parte de la interfaz de usuario (<abbr title="UI: User Interface, interfaz de usuario que permite la interacción entre humanos y máquinas">UI</abbr>) y tiene tres partes: clase TypeScript, template HTML y estilos CSS.</p>

      <div class="code-block">
        <div class="code-header">
          <div class="code-dots">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
          </div>
          <span class="code-title">estudiante.component.ts</span>
        </div>
        <div class="code-content">
          <div class="line-numbers">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19</div>
          <pre><code class="language-typescript"><span class="token-keyword">import</span> { Component } <span class="token-keyword">from</span> <span class="token-string">'@angular/core'</span>;

<span class="token-decorator">@Component</span>({
  selector: <span class="token-string">'app-estudiante'</span>,
  templateUrl: <span class="token-string">'./estudiante.component.html'</span>,
  styleUrls: [<span class="token-string">'./estudiante.component.css'</span>]
})
<span class="token-keyword">export class</span> <span class="token-class">EstudianteComponent</span> {
  <span class="token-comment">// Propiedades (estado del componente)</span>
  nombre: <span class="token-type">string</span> = <span class="token-string">'María López'</span>;
  codigo: <span class="token-type">string</span> = <span class="token-string">'2024001'</span>;
  promedio: <span class="token-type">number</span> = <span class="token-number">4.2</span>;

  <span class="token-comment">// Métodos (comportamiento)</span>
  <span class="token-method">aprobado</span>(): <span class="token-type">boolean</span> {
    <span class="token-keyword">return</span> <span class="token-keyword">this</span>.promedio >= <span class="token-number">3.0</span>;
  }
}</code></pre>
        </div>
      </div>

      <h4>Template del componente</h4>
      <div class="code-block">
        <div class="code-header">
          <div class="code-dots">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
          </div>
          <span class="code-title">estudiante.component.html</span>
        </div>
        <div class="code-content">
          <div class="line-numbers">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8</div>
          <pre><code class="language-html"><span class="token-operator">&lt;</span>div <span class="token-keyword">class</span>=<span class="token-string">"estudiante-card"</span><span class="token-operator">&gt;</span>
  <span class="token-operator">&lt;</span>h2<span class="token-operator">&gt;</span>{{ nombre }}<span class="token-operator">&lt;</span>/h2<span class="token-operator">&gt;</span>
  <span class="token-operator">&lt;</span>p<span class="token-operator">&gt;</span>Código: {{ codigo }}<span class="token-operator">&lt;</span>/p<span class="token-operator">&gt;</span>
  <span class="token-operator">&lt;</span>p<span class="token-operator">&gt;</span>Promedio: {{ promedio }}<span class="token-operator">&lt;</span>/p<span class="token-operator">&gt;</span>
  <span class="token-operator">&lt;</span>span *<span class="token-keyword">ngIf</span>=<span class="token-string">"aprobado()"</span> <span class="token-keyword">class</span>=<span class="token-string">"badge bg-success"</span><span class="token-operator">&gt;</span>
    Aprobado
  <span class="token-operator">&lt;</span>/span<span class="token-operator">&gt;</span>
<span class="token-operator">&lt;</span>/div<span class="token-operator">&gt;</span></code></pre>
        </div>
      </div>

      <h3>Servicios Angular (@Injectable)</h3>
      <p>Los <strong>servicios</strong> encapsulan la lógica de negocio y el acceso a datos. Se inyectan en los componentes mediante el sistema de <strong>inyección de dependencias</strong> (<abbr title="DI: Dependency Injection, patrón donde el framework provee instancias de clases que otras clases necesitan">DI</abbr>) de Angular.</p>

      <div class="code-block">
        <div class="code-header">
          <div class="code-dots">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
          </div>
          <span class="code-title">estudiante.service.ts</span>
        </div>
        <div class="code-content">
          <div class="line-numbers">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20</div>
          <pre><code class="language-typescript"><span class="token-keyword">import</span> { Injectable } <span class="token-keyword">from</span> <span class="token-string">'@angular/core'</span>;
<span class="token-keyword">import</span> { HttpClient } <span class="token-keyword">from</span> <span class="token-string">'@angular/common/http'</span>;
<span class="token-keyword">import</span> { Observable } <span class="token-keyword">from</span> <span class="token-string">'rxjs'</span>;

<span class="token-decorator">@Injectable</span>({
  providedIn: <span class="token-string">'root'</span>  <span class="token-comment">// Singleton disponible en toda la app</span>
})
<span class="token-keyword">export class</span> <span class="token-class">EstudianteService</span> {
  <span class="token-keyword">private</span> apiUrl = <span class="token-string">'http://localhost:8000/api/estudiantes'</span>;

  <span class="token-keyword">constructor</span>(<span class="token-keyword">private</span> http: <span class="token-type">HttpClient</span>) {}

  <span class="token-method">obtenerTodos</span>(): <span class="token-type">Observable</span><<span class="token-type">Estudiante</span>[]> {
    <span class="token-keyword">return</span> <span class="token-keyword">this</span>.http.<span class="token-method">get</span><<span class="token-type">Estudiante</span>[]>(<span class="token-keyword">this</span>.apiUrl);
  }

  <span class="token-method">crear</span>(estudiante: <span class="token-type">Estudiante</span>): <span class="token-type">Observable</span><<span class="token-type">Estudiante</span>> {
    <span class="token-keyword">return</span> <span class="token-keyword">this</span>.http.<span class="token-method">post</span><<span class="token-type">Estudiante</span>>(<span class="token-keyword">this</span>.apiUrl, estudiante);
  }
}</code></pre>
        </div>
      </div>

      <h3>Interfaces TypeScript</h3>
      <p>Las <strong>interfaces</strong> definen la forma (shape) de los objetos, proporcionando tipado estático y autocompletado en el IDE.</p>

      <div class="code-block">
        <div class="code-header">
          <div class="code-dots">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
          </div>
          <span class="code-title">estudiante.interface.ts</span>
        </div>
        <div class="code-content">
          <div class="line-numbers">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8</div>
          <pre><code class="language-typescript"><span class="token-keyword">export interface</span> <span class="token-class">Estudiante</span> {
  id?: <span class="token-type">number</span>;
  codigo: <span class="token-type">string</span>;
  nombre: <span class="token-type">string</span>;
  edad: <span class="token-type">number</span>;
  promedio: <span class="token-type">number</span>;
  carreraId?: <span class="token-type">number</span>;
}</code></pre>
        </div>
      </div>

      <h3>Angular Router</h3>
      <p>El <strong>Router</strong> habilita la navegación entre vistas/componentes sin recargar la página, esencial para SPAs.</p>

      <div class="code-block">
        <div class="code-header">
          <div class="code-dots">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
          </div>
          <span class="code-title">app.routes.ts</span>
        </div>
        <div class="code-content">
          <div class="line-numbers">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10</div>
          <pre><code class="language-typescript"><span class="token-keyword">import</span> { Routes } <span class="token-keyword">from</span> <span class="token-string">'@angular/router'</span>;

<span class="token-keyword">export const</span> routes: <span class="token-type">Routes</span> = [
  { path: <span class="token-string">''</span>, redirectTo: <span class="token-string">'/estudiantes'</span>, pathMatch: <span class="token-string">'full'</span> },
  { path: <span class="token-string">'estudiantes'</span>, component: <span class="token-type">EstudianteListaComponent</span> },
  { path: <span class="token-string">'estudiantes/nuevo'</span>, component: <span class="token-type">EstudianteFormComponent</span> },
  { path: <span class="token-string">'estudiantes/:id'</span>, component: <span class="token-type">EstudianteDetalleComponent</span> },
  { path: <span class="token-string">'**'</span>, component: <span class="token-type">NotFoundComponent</span> }
];
</code></pre>
        </div>
      </div>

      <h4>Directivas de navegación</h4>
      <div class="code-block">
        <div class="code-header">
          <div class="code-dots">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
          </div>
          <span class="code-title">navegacion.component.html</span>
        </div>
        <div class="code-content">
          <div class="line-numbers">1<br>2<br>3<br>4<br>5</div>
          <pre><code class="language-html"><span class="token-operator">&lt;</span>nav<span class="token-operator">&gt;</span>
  <span class="token-operator">&lt;</span>a routerLink=<span class="token-string">"/estudiantes"</span> routerLinkActive=<span class="token-string">"active"</span><span class="token-operator">&gt;</span>Lista<span class="token-operator">&lt;</span>/a<span class="token-operator">&gt;</span>
  <span class="token-operator">&lt;</span>a routerLink=<span class="token-string">"/estudiantes/nuevo"</span> routerLinkActive=<span class="token-string">"active"</span><span class="token-operator">&gt;</span>Nuevo<span class="token-operator">&lt;</span>/a<span class="token-operator">&gt;</span>
<span class="token-operator">&lt;</span>/nav<span class="token-operator">&gt;</span>
<span class="token-operator">&lt;</span>router-outlet<span class="token-operator">&gt;</span><span class="token-operator">&lt;</span>/router-outlet<span class="token-operator">&gt;</span></code></pre>
        </div>
      </div>

      <h3>Arquitectura Angular</h3>
      <figure>
        <svg width="100%" viewBox="0 0 800 400" preserveAspectRatio="xMidYMid meet" role="img" aria-labelledby="angular-arch-title">
          <title id="angular-arch-title">Arquitectura Angular: Componentes, Servicios, Routing y HttpClient</title>
          <style>
            .box { rx: 8; }
            .title { font: bold 14px Arial, sans-serif; }
            .text { font: 12px Arial, sans-serif; }
            .arrow { fill: none; stroke: #666; stroke-width: 2; marker-end: url(#arrowhead); }
          </style>
          <defs>
            <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
              <polygon points="0 0, 10 3, 0 6" fill="#666"/>
            </marker>
          </defs>
          
          <!-- Browser -->
          <rect x="20" y="20" width="760" height="360" fill="#f8fafc" stroke="#e2e8f0" class="box"/>
          <text x="400" y="45" text-anchor="middle" class="title" fill="#334155">Angular Application</text>
          
          <!-- Components -->
          <rect x="50" y="70" width="200" height="80" fill="#dd0031" stroke="#c3002f" class="box"/>
          <text x="150" y="100" text-anchor="middle" class="title" fill="white">Componentes</text>
          <text x="150" y="120" text-anchor="middle" class="text" fill="white">@Component</text>
          <text x="150" y="135" text-anchor="middle" class="text" fill="white" font-size="10">Template + Clase + CSS</text>
          
          <!-- Router -->
          <rect x="300" y="70" width="150" height="80" fill="#3b82f6" stroke="#2563eb" class="box"/>
          <text x="375" y="100" text-anchor="middle" class="title" fill="white">Router</text>
          <text x="375" y="120" text-anchor="middle" class="text" fill="white">Navegación SPA</text>
          
          <!-- Services -->
          <rect x="500" y="70" width="250" height="80" fill="#10b981" stroke="#059669" class="box"/>
          <text x="625" y="100" text-anchor="middle" class="title" fill="white">Servicios</text>
          <text x="625" y="120" text-anchor="middle" class="text" fill="white">@Injectable</text>
          <text x="625" y="135" text-anchor="middle" class="text" fill="white" font-size="10">Lógica de negocio + Datos</text>
          
          <!-- HttpClient -->
          <rect x="500" y="180" width="250" height="70" fill="#8b5cf6" stroke="#7c3aed" class="box"/>
          <text x="625" y="210" text-anchor="middle" class="title" fill="white">HttpClient</text>
          <text x="625" y="230" text-anchor="middle" class="text" fill="white">Consumo de APIs REST</text>
          
          <!-- Backend -->
          <rect x="500" y="280" width="250" height="70" fill="#64748b" stroke="#475569" class="box"/>
          <text x="625" y="310" text-anchor="middle" class="title" fill="white">Backend API</text>
          <text x="625" y="330" text-anchor="middle" class="text" fill="white">FastAPI / Node.js / etc.</text>
          
          <!-- Arrows -->
          <path d="M250 110 L300 110" class="arrow"/>
          <path d="M450 110 L500 110" class="arrow"/>
          <path d="M625 150 L625 180" class="arrow"/>
          <path d="M625 250 L625 280" class="arrow"/>
          <path d="M150 150 L150 300 L500 300" class="arrow"/>
        </svg>
        <figcaption>Arquitectura Angular: Los componentes renderizan la UI, el Router gestiona la navegación, los servicios encapsulan la lógica y HttpClient consume APIs REST del backend.</figcaption>
      </figure>

      <h3>Comparativa: ASP.NET MVC vs Angular</h3>
      <table>
        <thead>
          <tr>
            <th>Concepto ASP.NET</th>
            <th>Equivalencia Angular</th>
            <th>Descripción</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Controller</td>
            <td>Component + Service</td>
            <td>Lógica distribuida entre componente (UI) y servicio (datos)</td>
          </tr>
          <tr>
            <td>ViewModel</td>
            <td>Interface</td>
            <td>Interface TypeScript define la forma de los datos</td>
          </tr>
          <tr>
            <td>Razor View</td>
            <td>Component Template</td>
            <td>Template HTML con interpolación {{ }} y directivas</td>
          </tr>
          <tr>
            <td>Tag Helpers</td>
            <td>Directivas (*ngIf, *ngFor)</td>
            <td>Directivas estructurales para manipular el DOM</td>
          </tr>
          <tr>
            <td>Model Binding</td>
            <td>Two-way Binding [(ngModel)]</td>
            <td>Enlace bidireccional entre modelo y vista</td>
          </tr>
          <tr>
            <td>Entity Framework</td>
            <td>HttpClient + API</td>
            <td>Consumo de API REST en lugar de ORM directo</td>
          </tr>
        </tbody>
      </table>
    </section>

    <section id="ejemplos">
      <h2>Ejemplos</h2>

      <h3>Ejemplo 1: Lista de Estudiantes</h3>
      <div class="code-block">
        <div class="code-header">
          <div class="code-dots">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
          </div>
          <span class="code-title">estudiante-lista.component.ts</span>
        </div>
        <div class="code-content">
          <div class="line-numbers">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25</div>
          <pre><code class="language-typescript"><span class="token-keyword">import</span> { Component, OnInit } <span class="token-keyword">from</span> <span class="token-string">'@angular/core'</span>;
<span class="token-keyword">import</span> { CommonModule } <span class="token-keyword">from</span> <span class="token-string">'@angular/common'</span>;
<span class="token-keyword">import</span> { EstudianteService } <span class="token-keyword">from</span> <span class="token-string">'./estudiante.service'</span>;
<span class="token-keyword">import</span> { Estudiante } <span class="token-keyword">from</span> <span class="token-string">'./estudiante.interface'</span>;

<span class="token-decorator">@Component</span>({
  selector: <span class="token-string">'app-estudiante-lista'</span>,
  standalone: <span class="token-keyword">true</span>,
  imports: [<span class="token-type">CommonModule</span>],
  templateUrl: <span class="token-string">'./estudiante-lista.component.html'</span>
})
<span class="token-keyword">export class</span> <span class="token-class">EstudianteListaComponent</span> <span class="token-keyword">implements</span> <span class="token-type">OnInit</span> {
  estudiantes: <span class="token-type">Estudiante</span>[] = [];
  busqueda: <span class="token-type">string</span> = <span class="token-string">''</span>;

  <span class="token-keyword">constructor</span>(<span class="token-keyword">private</span> estudianteService: <span class="token-type">EstudianteService</span>) {}

  <span class="token-method">ngOnInit</span>(): <span class="token-type">void</span> {
    <span class="token-keyword">this</span>.<span class="token-method">cargarEstudiantes</span>();
  }

  <span class="token-method">cargarEstudiantes</span>(): <span class="token-type">void</span> {
    <span class="token-keyword">this</span>.estudianteService.<span class="token-method">obtenerTodos</span>().<span class="token-method">subscribe</span>({
      next: (data) => <span class="token-keyword">this</span>.estudiantes = data,
      error: (err) => <span class="token-type">console</span>.<span class="token-method">error</span>(<span class="token-string">'Error:'</span>, err)
    });
  }
}</code></pre>
        </div>
      </div>

      <h4>Template</h4>
      <div class="code-block">
        <div class="code-header">
          <div class="code-dots">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
          </div>
          <span class="code-title">estudiante-lista.component.html</span>
        </div>
        <div class="code-content">
          <div class="line-numbers">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13</div>
          <pre><code class="language-html"><span class="token-operator">&lt;</span>div <span class="token-keyword">class</span>=<span class="token-string">"container"</span><span class="token-operator">&gt;</span>
  <span class="token-operator">&lt;</span>h2<span class="token-operator">&gt;</span>Lista de Estudiantes<span class="token-operator">&lt;</span>/h2<span class="token-operator">&gt;</span>
  
  <span class="token-operator">&lt;</span>input [(ngModel)]=<span class="token-string">"busqueda"</span> 
         placeholder=<span class="token-string">"Buscar..."</span> 
         <span class="token-keyword">class</span>=<span class="token-string">"form-control"</span><span class="token-operator">&gt;</span>

  <span class="token-operator">&lt;</span>div *<span class="token-keyword">ngFor</span>=<span class="token-string">"let est of estudiantes | filter:busqueda"</span> 
       <span class="token-keyword">class</span>=<span class="token-string">"estudiante-item"</span><span class="token-operator">&gt;</span>
    <span class="token-operator">&lt;</span>h3<span class="token-operator">&gt;</span>{{ est.nombre }}<span class="token-operator">&lt;</span>/h3<span class="token-operator">&gt;</span>
    <span class="token-operator">&lt;</span>p<span class="token-operator">&gt;</span>Código: {{ est.codigo }}<span class="token-operator">&lt;</span>/p<span class="token-operator">&gt;</span>
    <span class="token-operator">&lt;</span>a [routerLink]=<span class="token-string">"['/estudiantes', est.id]"</span><span class="token-operator">&gt;</span>Ver detalle<span class="token-operator">&lt;</span>/a<span class="token-operator">&gt;</span>
  <span class="token-operator">&lt;</span>/div<span class="token-operator">&gt;</span>
<span class="token-operator">&lt;</span>/div<span class="token-operator">&gt;</span></code></pre>
        </div>
      </div>

      <h3>Ejemplo 2: Formulario Reactivo</h3>
      <div class="code-block">
        <div class="code-header">
          <div class="code-dots">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
          </div>
          <span class="code-title">estudiante-form.component.ts</span>
        </div>
        <div class="code-content">
          <div class="line-numbers">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26</div>
          <pre><code class="language-typescript"><span class="token-keyword">import</span> { Component } <span class="token-keyword">from</span> <span class="token-string">'@angular/core'</span>;
<span class="token-keyword">import</span> { FormBuilder, FormGroup, Validators } <span class="token-keyword">from</span> <span class="token-string">'@angular/forms'</span>;

<span class="token-decorator">@Component</span>({
  selector: <span class="token-string">'app-estudiante-form'</span>,
  templateUrl: <span class="token-string">'./estudiante-form.component.html'</span>
})
<span class="token-keyword">export class</span> <span class="token-class">EstudianteFormComponent</span> {
  estudianteForm: <span class="token-type">FormGroup</span>;

  <span class="token-keyword">constructor</span>(
    <span class="token-keyword">private</span> fb: <span class="token-type">FormBuilder</span>,
    <span class="token-keyword">private</span> estudianteService: <span class="token-type">EstudianteService</span>,
    <span class="token-keyword">private</span> router: <span class="token-type">Router</span>
  ) {
    <span class="token-keyword">this</span>.estudianteForm = <span class="token-keyword">this</span>.fb.<span class="token-method">group</span>({
      codigo: [<span class="token-string">''</span>, [<span class="token-type">Validators</span>.required]],
      nombre: [<span class="token-string">''</span>, [<span class="token-type">Validators</span>.required, <span class="token-type">Validators</span>.<span class="token-method">minLength</span>(<span class="token-number">3</span>)]],
      edad: [<span class="token-string">''</span>, [<span class="token-type">Validators</span>.required, <span class="token-type">Validators</span>.<span class="token-method">min</span>(<span class="token-number">18</span>)]]
    });
  }

  <span class="token-method">onSubmit</span>(): <span class="token-type">void</span> {
    <span class="token-keyword">if</span> (<span class="token-keyword">this</span>.estudianteForm.valid) {
      <span class="token-keyword">this</span>.estudianteService.<span class="token-method">crear</span>(<span class="token-keyword">this</span>.estudianteForm.value)
        .<span class="token-method">subscribe</span>(() => <span class="token-keyword">this</span>.router.<span class="token-method">navigate</span>([<span class="token-string">'/estudiantes'</span>]));
    }
  }
}</code></pre>
        </div>
      </div>
    </section>

    <section id="practica">
      <h2>Práctica / Laboratorio</h2>

      <h3>Actividad 1: Crear proyecto Angular (15 min)</h3>
      <ol>
        <li>Instalar Angular CLI: <code>npm install -g @angular/cli@17</code></li>
        <li>Crear proyecto: <code>ng new gestion-estudiantes --routing --style=scss</code></li>
        <li>Instalar Bootstrap: <code>npm install bootstrap</code></li>
        <li>Configurar HttpClient en <code>app.config.ts</code></li>
      </ol>

      <h3>Actividad 2: Crear componentes y servicio (30 min)</h3>
      <ol>
        <li>Generar servicio: <code>ng generate service services/estudiante</code></li>
        <li>Generar interfaz: <code>ng generate interface models/estudiante</code></li>
        <li>Generar componentes:
          <ul>
            <li><code>ng generate component components/estudiante-lista</code></li>
            <li><code>ng generate component components/estudiante-form</code></li>
          </ul>
        </li>
        <li>Implementar métodos CRUD en el servicio con HttpClient</li>
      </ol>

      <h3>Actividad 3: Configurar routing (15 min)</h3>
      <ol>
        <li>Definir rutas en <code>app.routes.ts</code></li>
        <li>Crear navegación con <code>routerLink</code></li>
        <li>Probar navegación entre lista y formulario</li>
      </ol>

      <h3>Checklist de Laboratorio</h3>
      <ul>
        <li>✅ Proyecto Angular creado y ejecutándose</li>
        <li>✅ Servicio Estudiante con HttpClient implementado</li>
        <li>✅ Interface Estudiante definida</li>
        <li>✅ Componentes lista y formulario funcionando</li>
        <li>✅ Routing configurado y navegable</li>
        <li>✅ Consumo de API REST exitoso</li>
      </ul>
    </section>

    <section id="entrega-git">
      <h2>Entrega con Git</h2>
      <p>Entrega mínima por clase usando control de versiones:</p>
      <ul>
        <li>Branch: <code>feature/angular-componentes-clase-10</code></li>
        <li>Commits: <code>setup</code> / <code>componentes-servicios</code> / <code>routing-http</code></li>
        <li>Tag: <code>clase-10-v1</code></li>
      </ul>
    </section>

    <section id="ejercicios">
      <h2>Ejercicios</h2>

      <h3>Ejercicio 1: CRUD Completo (30 min)</h3>
      <p>Extender el servicio Estudiante para incluir operaciones CRUD completas:</p>
      <ul>
        <li>GET /estudiantes - Listar todos</li>
        <li>GET /estudiantes/:id - Obtener uno</li>
        <li>POST /estudiantes - Crear</li>
        <li>PUT /estudiantes/:id - Actualizar</li>
        <li>DELETE /estudiantes/:id - Eliminar</li>
      </ul>

      <h3>Ejercicio 2: Guards de Navegación (20 min)</h3>
      <p>Implementar un <strong>Route Guard</strong> que verifique si el usuario puede salir del formulario con cambios sin guardar:</p>
      <div class="code-block">
        <div class="code-header">
          <div class="code-dots">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
          </div>
          <span class="code-title">form-guard.ts</span>
        </div>
        <div class="code-content">
          <div class="line-numbers">1<br>2<br>3<br>4<br>5</div>
          <pre><code class="language-typescript"><span class="token-keyword">export const</span> <span class="token-method">formGuard</span>: <span class="token-type">CanDeactivateFn</span><<span class="token-type">EstudianteFormComponent</span>> = (
  component
) => {
  <span class="token-keyword">if</span> (component.estudianteForm.dirty) {
    <span class="token-keyword">return</span> <span class="token-type">confirm</span>(<span class="token-string">'¿Salir sin guardar cambios?'</span>);
  }
  <span class="token-keyword">return</span> <span class="token-keyword">true</span>;
};</code></pre>
        </div>
      </div>

      <h3>Ejercicio 3: Pipes Personalizados (20 min)</h3>
      <p>Crear un <strong>Pipe</strong> personalizado para formatear el promedio con color según su valor:</p>
      <ul>
        <li>≥ 4.0: Verde (Excelente)</li>
        <li>≥ 3.0: Amarillo (Aprobado)</li>
        <li>&lt; 3.0: Rojo (Reprobado)</li>
      </ul>
    </section>

    <section id="referencias">
      <h2>Referencias</h2>
      <h3>Documentación Oficial</h3>
      <ul>
        <li><a href="https://angular.io/docs" target="_blank" rel="noopener">Angular Docs</a> - Documentación oficial</li>
        <li><a href="https://angular.io/tutorial" target="_blank" rel="noopener">Angular Tutorial (Tour of Heroes)</a> - Tutorial paso a paso</li>
        <li><a href="https://angular.io/guide/router" target="_blank" rel="noopener">Angular Router</a> - Guía de routing</li>
        <li><a href="https://angular.io/guide/http" target="_blank" rel="noopener">HttpClient</a> - Consumo de HTTP</li>
      </ul>
      <h3>Herramientas</h3>
      <ul>
        <li><a href="https://rxjs.dev/" target="_blank" rel="noopener">RxJS</a> - Programación reactiva</li>
        <li><a href="https://www.typescriptlang.org/docs/" target="_blank" rel="noopener">TypeScript</a> - Lenguaje de Angular</li>
        <li><a href="https://cli.angular.io/" target="_blank" rel="noopener">Angular CLI</a> - Interfaz de línea de comandos</li>
      </ul>
    </section>

    <section id="resumen">
      <h2>Resumen de la Clase</h2>
      <ul>
        <li>Angular es un framework para construir SPAs con arquitectura basada en componentes.</li>
        <li>Los <strong>componentes</strong> (<code>@Component</code>) combinan template HTML, estilos CSS y lógica TypeScript.</li>
        <li>Los <strong>servicios</strong> (<code>@Injectable</code>) encapsulan lógica de negocio y acceso a datos mediante inyección de dependencias (<abbr title="DI: Dependency Injection, patrón de diseño donde el framework proporciona las dependencias">DI</abbr>).</li>
        <li>Las <strong>interfaces</strong> TypeScript definen la forma de los datos, reemplazando los ViewModels de C#.</li>
        <li>El <strong>Router</strong> habilita navegación SPA entre componentes sin recargar la página.</li>
        <li><strong>HttpClient</strong> permite consumir APIs REST desde los servicios usando Observables de RxJS.</li>
        <li>Angular CLI acelera el desarrollo con generación de código y servidor de desarrollo.</li>
      </ul>
    </section>
  </main>

  <footer style="background:#1e293b;color:#fff;text-align:center;padding:24px;margin-top:40px;">
    <p><strong>IF0100 - Lenguaje de Programación OO II</strong></p>
    <p>UNAULA - Ingeniería Informática - 2026-I</p>
  </footer>

  <!-- Prism: syntax highlighting -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-typescript.min.js"></script>
  <script>if (window.Prism) { Prism.highlightAll(); }</script>
</body>
</html>
