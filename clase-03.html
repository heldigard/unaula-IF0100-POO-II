<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Clase 03 ‚Äî Herencia y Polimorfismo (POO II)</title>
  <style>
    :root {
      --bg: #f7f7f4;
      --ink: #1f2933;
      --muted: #52606d;
      --brand: #1e3a8a;
      --accent: #3b82f6;
      --card: #ffffff;
      --line: #d9e2ec;
      --success: #10b981;
      --warning: #f59e0b;
      --danger: #ef4444;
    }
    * { box-sizing: border-box; }
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      line-height: 1.6;
      margin: 0;
      padding: 0;
      color: var(--ink);
      background: var(--bg);
    }
    header {
      background: linear-gradient(135deg, #0b5a3c, #10b981);
      padding: 36px 20px 28px;
      color: #fff;
    }
    header .wrap {
      max-width: 1100px;
      margin: 0 auto;
    }
    header h1 {
      margin: 8px 0 10px 0;
      font-size: 2.2rem;
    }
    header .meta {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 16px;
      margin-top: 18px;
      background: rgba(255, 255, 255, 0.15);
      padding: 16px;
      border-radius: 12px;
    }
    header ul {
      margin: 8px 0 0 18px;
    }
    nav {
      max-width: 1100px;
      margin: 18px auto 0;
      padding: 14px 18px;
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 12px;
    }
    nav ul {
      list-style: none;
      padding: 0;
      margin: 0;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 8px 14px;
    }
    nav a {
      color: var(--brand);
      text-decoration: none;
      padding: 8px 10px;
      border-radius: 8px;
      background: #eef2ff;
      display: block;
    }
    nav a:hover { background: #dbeafe; }
    main {
      max-width: 1100px;
      margin: 18px auto 60px;
      padding: 0 20px;
    }
    section {
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 12px;
      padding: 28px;
      margin: 20px 0;
    }
    h2 {
      color: #0b5a3c;
      font-size: 1.8rem;
      margin-top: 0;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 3px solid #10b981;
    }
    h3 {
      color: #047857;
      font-size: 1.4rem;
      margin-top: 28px;
      margin-bottom: 15px;
    }
    h4 {
      color: #059669;
      font-size: 1.15rem;
      margin-top: 22px;
      margin-bottom: 12px;
    }
    pre {
      background: #0b1020;
      color: #e2e8f0;
      padding: 16px;
      border-radius: 10px;
      overflow-x: auto;
      margin: 15px 0;
    }
    code {
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 0.9em;
    }
    p code, li code {
      background: #d1fae5;
      color: #065f46;
      padding: 2px 6px;
      border-radius: 4px;
    }
    figure {
      margin: 24px 0;
      padding: 16px;
      border: 1px dashed var(--line);
      border-radius: 10px;
      background: #fbfbff;
      text-align: center;
    }
    figure img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
    }
    figcaption {
      margin-top: 12px;
      font-size: 0.95rem;
      color: var(--muted);
      font-style: italic;
    }
    .diagram {
      font-family: 'Consolas', 'Monaco', monospace;
      background: #f0fdf4;
      padding: 20px;
      border-radius: 10px;
      margin: 20px 0;
      overflow-x: auto;
      border: 2px solid #10b981;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    th, td {
      padding: 12px;
      text-align: left;
      border: 1px solid var(--line);
    }
    th {
      background: #0b5a3c;
      color: white;
      font-weight: 600;
    }
    tr:nth-child(even) {
      background: #f0fdf4;
    }
    ul, ol {
      margin-left: 25px;
      margin-bottom: 15px;
    }
    li {
      margin-bottom: 8px;
    }
    .checklist {
      background: #fef3c7;
      padding: 16px;
      border-left: 4px solid var(--warning);
      border-radius: 8px;
      margin: 20px 0;
    }
    .checklist ul {
      list-style: none;
      margin-left: 0;
    }
    .checklist li:before {
      content: "‚òê ";
      font-weight: bold;
      color: var(--warning);
    }
    .highlight-box {
      background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
      padding: 20px;
      border-radius: 10px;
      border-left: 4px solid #10b981;
      margin: 20px 0;
    }
    .warning-box {
      background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
      padding: 20px;
      border-radius: 10px;
      border-left: 4px solid var(--warning);
      margin: 20px 0;
    }
    .info-box {
      background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
      padding: 20px;
      border-radius: 10px;
      border-left: 4px solid var(--accent);
      margin: 20px 0;
    }
    .comparison-table {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin: 20px 0;
    }
    .comparison-table > div {
      background: #f0fdf4;
      padding: 20px;
      border-radius: 10px;
      border: 1px solid #10b981;
    }
    .comparison-table h4 {
      color: #065f46;
      margin-top: 0;
    }
    @media (max-width: 768px) {
      .comparison-table {
        grid-template-columns: 1fr;
      }
      header h1 {
        font-size: 1.6rem;
      }
    }
    footer {
      background: #1e293b;
      color: white;
      text-align: center;
      padding: 30px;
      margin-top: 50px;
    }
    .note {
      background: #f0f4ff;
      border-left: 4px solid #3b82f6;
      padding: 10px 12px;
      border-radius: 8px;
      color: #52606d;
    }
    /* Syntax highlighting para C# */
    .token-keyword { color: #c792ea; font-weight: 600; }
    .token-type { color: #ffcb6b; }
    .token-string { color: #c3e88d; }
    .token-comment { color: #546e7a; font-style: italic; }
    .token-number { color: #f78c6c; }
    .token-operator { color: #89ddff; }

/* BLOQUES DE C√ìDIGO MEJORADOS */
.code-block {
  background: #1e1e2e;
  border-radius: 12px;
  margin: 16px 0;
  overflow: hidden;
  box-shadow: 0 4px 20px rgba(0,0,0,0.15);
  border: 1px solid #313244;
}

.code-header {
  background: linear-gradient(90deg, #313244 0%, #45475a 100%);
  padding: 10px 16px;
  display: flex;
  align-items: center;
  gap: 10px;
  border-bottom: 1px solid #45475a;
}

.code-dots {
  display: flex;
  gap: 6px;
}

.code-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
}

.code-dot.red { background: #f38ba8; }
.code-dot.yellow { background: #f9e2af; }
.code-dot.green { background: #a6e3a1; }

.code-title {
  color: #cdd6f4;
  font-size: 0.85rem;
  font-weight: 600;
  margin-left: auto;
  font-family: 'Cascadia Code', Consolas, monospace;
}

.code-content {
  display: flex;
  background: #1e1e2e;
}

.line-numbers {
  background: #181825;
  color: #6c7086;
  padding: 12px 10px;
  text-align: right;
  font-family: 'Cascadia Code', Consolas, monospace;
  font-size: 0.9rem;
  line-height: 1.5;
  user-select: none;
  border-right: 1px solid #313244;
}

.code-block pre {
  background: transparent;
  margin: 0;
  padding: 12px 16px;
  flex: 1;
  overflow-x: auto;
}

.code-block pre code {
  color: #cdd6f4;
  font-size: 0.95rem;
  line-height: 1.5;
  display: block;
}

/* Syntax highlighting mejorado */
.code-block .token-keyword { color: #cba6f7; font-weight: 600; }
.code-block .token-type { color: #f9e2af; }
.code-block .token-string { color: #a6e3a1; }
.code-block .token-comment { color: #6c7086; font-style: italic; }
.code-block .token-number { color: #fab387; }
.code-block .token-operator { color: #89dceb; }
.code-block .token-method { color: #89b4fa; }
.code-block .token-class { color: #f9e2af; font-weight: 600; }
.code-block .token-property { color: #b4befe; }
.code-block .token-namespace { color: #f38ba8; }

p code, li code {
  background: #313244;
  color: #cdd6f4;
  padding: 2px 8px;
  border-radius: 6px;
  font-size: 0.9em;
  border: 1px solid #45475a;
}
    /* Accessibility */
    abbr[title] { text-decoration: underline dotted; cursor: help; }
    .skip-link {
      position: absolute;
      top: -40px;
      left: 0;
      background: var(--brand);
      color: #fff;
      padding: 8px 16px;
      text-decoration: none;
      z-index: 100;
      transition: top 0.3s;
    }
    .skip-link:focus {
      top: 0;
    }
    /* Print styles */
    @media print {
      header, nav, footer { background: white !important; color: black !important; }
      a[href]:after { content: " (" attr(href) ")"; font-size: 0.8em; }
      pre, code { white-space: pre-wrap; }
    }
  </style>
</head>
<body>
  <a href="#main" class="skip-link">Saltar al contenido</a>
  <header>
    <div class="wrap">
      <div>IF0100 - Lenguaje de Programaci√≥n OO II | Unidad 2</div>
      <h1>Clase 03: Herencia y Polimorfismo</h1>
      <div>Duraci√≥n: 90 minutos | Semana 3</div>
      <div class="meta">
        <div>
          <strong>Objetivos de Aprendizaje</strong>
          <ul>
            <li>Comprender el concepto de herencia y la relaci√≥n "es-un"</li>
            <li>Aplicar tipos de herencia (simple, jer√°rquica) en C#</li>
            <li>Implementar polimorfismo mediante override y virtual</li>
            <li>Utilizar <code>base</code> para invocar constructores padre</li>
            <li>Aplicar el principio de sustituci√≥n de Liskov</li>
          </ul>
        </div>
        <div>
          <strong>Prerrequisitos</strong>
          <ul>
            <li>Clase 02: Clases, objetos y encapsulamiento</li>
            <li>Visual Studio 2022 con .NET 8 instalado</li>
            <li>Conocimiento de modificadores de acceso</li>
            <li>Windows 10/11 con permisos de desarrollo</li>
          </ul>
        </div>
      </div>
    </div>
  </header>

  <nav>
    <ul>
      <li><a href="#teoria">1. Teor√≠a: Herencia</a></li>
      <li><a href="#tipos-herencia">2. Tipos de Herencia</a></li>
      <li><a href="#liskov">3. Principio de Liskov</a></li>
      <li><a href="#ejemplos">4. Ejemplos Pr√°cticos</a></li>
      <li><a href="#practica">5. Laboratorio Guiado</a></li>
      <li><a href="#ejercicios">6. Ejercicios</a></li>
      <li><a href="#referencias">7. Referencias</a></li>
    </ul>
  </nav>

  <main id="main">
    <section id="teoria">
      <h2>1. Teor√≠a: ¬øQu√© es la Herencia?</h2>
      
      <h3>Definici√≥n y Concepto Fundamental</h3>
      <p>La <strong>herencia</strong> es uno de los pilares fundamentales de la Programaci√≥n Orientada a Objetos. Permite definir una nueva clase (subclase o clase derivada) que reutiliza, extiende y modifica el comportamiento de una clase existente (superclase o clase base).</p>
      
      <div class="highlight-box">
        <h4>La Relaci√≥n "Es-Un" (Is-A)</h4>
        <p>La herencia modela una relaci√≥n jer√°rquica donde la subclase <strong>"es un tipo de"</strong> la superclase. Esta relaci√≥n debe ser natural y l√≥gica:</p>
        <ul>
          <li>‚úÖ Un <code>Gerente</code> <strong>es un</strong> <code>Empleado</code></li>
          <li>‚úÖ Un <code>Perro</code> <strong>es un</strong> <code>Animal</code></li>
          <li>‚úÖ Un <code>C√≠rculo</code> <strong>es una</strong> <code>Figura</code></li>
          <li>‚ùå Un <code>Auto</code> <strong>NO es un</strong> <code>Motor</code> (aqu√≠ va composici√≥n, no herencia)</li>
        </ul>
      </div>

      <h3>¬øPor qu√© usar Herencia?</h3>
      <table>
        <thead>
          <tr>
            <th>Beneficio</th>
            <th>Descripci√≥n</th>
            <th>Ejemplo Pr√°ctico</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Reutilizaci√≥n de c√≥digo</strong></td>
            <td>Evita duplicar c√≥digo com√∫n en m√∫ltiples clases</td>
            <td>Todos los empleados tienen nombre e ID; se define una sola vez en la clase base</td>
          </tr>
          <tr>
            <td><strong>Extensibilidad</strong></td>
            <td>Agregar nuevas funcionalidades sin modificar c√≥digo existente</td>
            <td>Crear nuevo tipo de empleado sin cambiar las clases existentes</td>
          </tr>
          <tr>
            <td><strong>Polimorfismo</strong></td>
            <td>Tratar objetos de diferentes clases de forma uniforme</td>
            <td>Procesar una lista mixta de Gerentes y Desarrolladores como Empleados</td>
          </tr>
          <tr>
            <td><strong>Jerarqu√≠a l√≥gica</strong></td>
            <td>Organiza conceptos seg√∫n su relaci√≥n natural</td>
            <td>Veh√≠culo ‚Üí Auto ‚Üí AutoEl√©ctrico</td>
          </tr>
        </tbody>
      </table>

      <h3>Conceptos Clave</h3>
      <div class="comparison-table">
        <div>
          <h4>üî∑ Superclase / Clase Base</h4>
          <p>La clase que proporciona los miembros (campos, m√©todos, propiedades) que ser√°n heredados.</p>
          <ul>
            <li>Define el comportamiento com√∫n</li>
            <li>Puede ser <code><abbr title="Clase abstracta no puede instanciarse directamente, sirve como plantilla para otras clases">abstract</abbr></code> (no se instancia)</li>
            <li>Usa <code><abbr title="virtual indica que un m√©todo puede ser sobreescrito por clases derivadas">virtual</abbr></code> para m√©todos sobreescribibles</li>
          </ul>
          <div class="code-block">
            <div class="code-header">
              <div class="code-dots">
                <span class="code-dot red"></span>
                <span class="code-dot yellow"></span>
                <span class="code-dot green"></span>
              </div>
              <span class="code-title">Empleado.cs</span>
            </div>
            <div class="code-content">
              <div class="line-numbers">1<br>2<br>3<br>4<br>5<br>6</div>
              <pre><code><span class="token-keyword">public</span> <span class="token-keyword">class</span> <span class="token-class">Empleado</span>
{
    <span class="token-keyword">public</span> <span class="token-type">string</span> Nombre { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
    <span class="token-keyword">public</span> <span class="token-keyword">virtual</span> <span class="token-type">void</span> <span class="token-method">Trabajar</span>() { }
}</code></pre>
            </div>
          </div>
        </div>
        <div>
          <h4>üî∂ Subclase / Clase Derivada</h4>
          <p>La clase que hereda de la superclase y puede a√±adir o modificar comportamiento.</p>
          <ul>
            <li>Usa <code>:</code> para heredar</li>
            <li>Usa <code>override</code> para modificar comportamiento</li>
            <li>Accede a miembros heredados</li>
          </ul>
          <div class="code-block">
            <div class="code-header">
              <div class="code-dots">
                <span class="code-dot red"></span>
                <span class="code-dot yellow"></span>
                <span class="code-dot green"></span>
              </div>
              <span class="code-title">Gerente.cs</span>
            </div>
            <div class="code-content">
              <div class="line-numbers">1<br>2<br>3<br>4<br>5<br>6<br>7</div>
              <pre><code><span class="token-keyword">public</span> <span class="token-keyword">class</span> <span class="token-class">Gerente</span> : <span class="token-class">Empleado</span>
{
    <span class="token-keyword">public</span> <span class="token-keyword">override</span> <span class="token-type">void</span> <span class="token-method">Trabajar</span>()
    {
        <span class="token-comment">// Comportamiento espec√≠fico</span>
    }
}</code></pre>
            </div>
          </div>
        </div>
      </div>

      <h3>Sobrescritura (Override) vs Sobrecarga (Overload)</h3>
      <table>
        <thead>
          <tr>
            <th>Caracter√≠stica</th>
            <th>Sobrescritura (Override)</th>
            <th>Sobrecarga (Overload)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Definici√≥n</strong></td>
            <td>Reemplazar un m√©todo de la clase padre en la clase hija</td>
            <td>M√∫ltiples m√©todos con mismo nombre pero diferentes par√°metros</td>
          </tr>
          <tr>
            <td><strong>Requisito</strong></td>
            <td>Requiere herencia y m√©todo marcado como <code>virtual</code></td>
            <td>Mismo alcance, diferente firma (par√°metros)</td>
          </tr>
          <tr>
            <td><strong>Enlace</strong></td>
            <td>Enlace din√°mico (runtime polymorphism)</td>
            <td>Enlace est√°tico (compile-time polymorphism)</td>
          </tr>
          <tr>
            <td><strong>Sintaxis</strong></td>
            <td><code>override</code> + mismo nombre y firma</td>
            <td>Mismo nombre, diferentes par√°metros</td>
          </tr>
        </tbody>
      </table>

      <figure>
        <svg width="100%" viewBox="0 0 760 220" preserveAspectRatio="xMidYMid meet" role="img" aria-labelledby="polimorfismoTitle">
          <title id="polimorfismoTitle">Comparaci√≥n: polimorfismo en tiempo de compilaci√≥n (sobrecarga) vs tiempo de ejecuci√≥n (sobrescritura)</title>
          <style>
            .col{font:700 13px Arial, sans-serif; fill:#0b2d6b}
            .mono{font:12px monospace; fill:#0b2d6b}
            rect{rx:8}
          </style>
          <rect x="20" y="20" width="340" height="180" fill="#f1f5f9" stroke="#dbeafe"/>
          <text x="190" y="44" text-anchor="middle" class="col">COMPILE-TIME (Sobrecarga)</text>
          <text x="190" y="72" text-anchor="middle" class="mono">void Procesar(int x)</text>
          <text x="190" y="96" text-anchor="middle" class="mono">void Procesar(string s)</text>
          <text x="190" y="120" text-anchor="middle" class="mono">void Procesar(int x, string s)</text>

          <rect x="400" y="20" width="340" height="180" fill="#f8fafc" stroke="#cfe2ff"/>
          <text x="570" y="44" text-anchor="middle" class="col">RUNTIME (Sobrescritura)</text>
          <text x="470" y="72" class="mono">class Animal { public virtual void Hablar() { } }</text>
          <text x="470" y="96" class="mono">class Perro : Animal { public override void Hablar() { /* Guau! */ } }</text>
          <text x="470" y="120" class="mono">Animal a = new Perro(); a.Hablar(); // Se decide en runtime</text>
        </svg>
        <figcaption>Polimorfismo est√°tico (sobrecarga) vs din√°mico (sobrescritura): el primero decide en compilaci√≥n seg√∫n la firma, el segundo en runtime seg√∫n el tipo real del objeto.</figcaption>
      </figure>
    </section>

    <section id="tipos-herencia">
      <h2>2. Tipos de Herencia</h2>

      <h3>Herencia Simple</h3>
      <p>C# solo permite <strong>herencia simple de clases</strong>: una clase puede heredar directamente de <strong>una √∫nica</strong> clase base. Esto evita la ambig√ºedad del "diamante" que ocurre en herencia m√∫ltiple.</p>

      <div class="diagram">
        <figure>
          <svg width="100%" viewBox="0 0 720 220" preserveAspectRatio="xMidYMid meet" role="img" aria-labelledby="herenciaSimple">
            <title id="herenciaSimple">Herencia simple en C#: Persona ‚Üí Empleado ‚Üí Gerente</title>
            <style>
              .box{fill:#fff;stroke:#dbeafe;rx:8}
              .h{font:700 13px Arial, sans-serif; fill:#0b2d6b}
              .s{font:12px Arial, sans-serif; fill:#475569}
            </style>
            <rect x="260" y="18" width="200" height="52" rx="8" fill="#fff" stroke="#dbeafe"/>
            <text x="360" y="38" text-anchor="middle" class="h">Persona</text>
            <text x="360" y="54" text-anchor="middle" class="s">- Nombre ¬∑ - Edad</text>

            <rect x="260" y="96" width="200" height="52" rx="8" fill="#fff" stroke="#dbeafe"/>
            <text x="360" y="116" text-anchor="middle" class="h">Empleado</text>
            <text x="360" y="132" text-anchor="middle" class="s">- Salario ¬∑ - Cargo</text>

            <rect x="260" y="174" width="200" height="52" rx="8" fill="#fff" stroke="#dbeafe"/>
            <text x="360" y="194" text-anchor="middle" class="h">Gerente</text>
            <text x="360" y="210" text-anchor="middle" class="s">- Bonos ¬∑ - Equipo</text>

            <path d="M360 70 L360 96" stroke="#0b2d6b" stroke-width="2" marker-end="url(#arrow)"/>
            <path d="M360 150 L360 174" stroke="#0b2d6b" stroke-width="2" marker-end="url(#arrow)"/>
            <defs><marker id="arrow" markerWidth="8" markerHeight="8" refX="6" refY="4" orient="auto"><path d="M0,0 L6,4 L0,8 z" fill="#0b2d6b"/></marker></defs>
          </svg>
        </figure>
      </div>

      <h3>Herencia Jer√°rquica</h3>
      <p>Una clase base puede tener <strong>m√∫ltiples clases derivadas</strong>, creando una jerarqu√≠a en forma de √°rbol.</p>

      <div class="diagram">
        <figure>
          <svg width="100%" viewBox="0 0 760 260" preserveAspectRatio="xMidYMid meet" role="img" aria-labelledby="herarqTitle">
            <title id="herarqTitle">Herencia jer√°rquica: Figura ‚Üí Rect√°ngulo / C√≠rculo / Tri√°ngulo</title>
            <style>
              .box{fill:#fff;stroke:#dbeafe;rx:8}
              .h{font:700 13px Arial, sans-serif; fill:#0b2d6b}
              .s{font:12px Arial, sans-serif; fill:#475569}
            </style>
            <rect x="300" y="20" width="160" height="60" rx="8" fill="#fff" stroke="#dbeafe"/>
            <text x="380" y="46" text-anchor="middle" class="h">Figura (abstract)</text>
            <text x="380" y="64" text-anchor="middle" class="s">+ Area()</text>

            <rect x="60" y="120" width="160" height="60" rx="8" fill="#fff" stroke="#dbeafe"/>
            <text x="140" y="146" text-anchor="middle" class="h">Rect√°ngulo</text>
            <text x="140" y="164" text-anchor="middle" class="s">- Ancho ¬∑ - Alto</text>

            <rect x="300" y="120" width="160" height="60" rx="8" fill="#fff" stroke="#dbeafe"/>
            <text x="380" y="146" text-anchor="middle" class="h">C√≠rculo</text>
            <text x="380" y="164" text-anchor="middle" class="s">- Radio</text>

            <rect x="540" y="120" width="160" height="60" rx="8" fill="#fff" stroke="#dbeafe"/>
            <text x="620" y="146" text-anchor="middle" class="h">Tri√°ngulo</text>
            <text x="620" y="164" text-anchor="middle" class="s">- Base ¬∑ - Altura</text>

            <path d="M380 80 L140 120" stroke="#0b2d6b" stroke-width="2"/>
            <path d="M380 80 L380 120" stroke="#0b2d6b" stroke-width="2"/>
            <path d="M380 80 L620 120" stroke="#0b2d6b" stroke-width="2"/>
          </svg>
        </figure>
      </div>

      <h3>Herencia Multinivel</h3>
      <p>Una clase derivada puede a su vez servir como clase base para otra clase, creando cadenas de herencia.</p>

      <div class="diagram">
        <figure>
          <svg width="100%" viewBox="0 0 760 260" preserveAspectRatio="xMidYMid meet" role="img" aria-labelledby="multiHerTitle">
            <title id="multiHerTitle">Herencia multinivel: Vehiculo ‚Üí Auto ‚Üí AutoEl√©ctrico</title>
            <style>
              .box{fill:#fff;stroke:#dbeafe;rx:8}
              .h{font:700 13px Arial, sans-serif; fill:#0b2d6b}
              .s{font:12px Arial, sans-serif; fill:#475569}
            </style>
            <rect x="300" y="20" width="160" height="52" rx="8" fill="#fff" stroke="#dbeafe"/>
            <text x="380" y="40" text-anchor="middle" class="h">Veh√≠culo</text>
            <text x="380" y="56" text-anchor="middle" class="s">- Marca ¬∑ - Modelo</text>

            <rect x="300" y="112" width="160" height="52" rx="8" fill="#fff" stroke="#dbeafe"/>
            <text x="380" y="132" text-anchor="middle" class="h">Auto</text>
            <text x="380" y="148" text-anchor="middle" class="s">- Puertas</text>

            <rect x="300" y="204" width="160" height="52" rx="8" fill="#fff" stroke="#dbeafe"/>
            <text x="380" y="224" text-anchor="middle" class="h">AutoEl√©ctrico</text>
            <text x="380" y="240" text-anchor="middle" class="s">- Bater√≠a ¬∑ - Autonom√≠a</text>

            <path d="M380 72 L380 112" stroke="#0b2d6b" stroke-width="2"/>
            <path d="M380 172 L380 204" stroke="#0b2d6b" stroke-width="2"/>
          </svg>
        </figure>
      </div>

      <div class="warning-box">
        <h4>‚ö†Ô∏è Herencia M√∫ltiple de Interfaces</h4>
        <p>Una <strong><abbr title="Interface define un contrato sin implementaci√≥n, especifica qu√© debe hacer una clase pero no c√≥mo">interface</abbr></strong> es un contrato que define qu√© m√©todos debe tener una clase, pero no c√≥mo implementarlos.</p>
        <p><strong>¬øPor qu√© usar interfaces?</strong> Permiten polimorfismo m√∫ltiple sin los problemas de la herencia m√∫ltiple de clases. Una clase puede implementar m√∫ltiples interfaces.</p>
        <p>Aunque C# no permite herencia m√∫ltiple de <strong>clases</strong>, s√≠ permite implementar <strong>m√∫ltiples interfaces</strong>:</p>
        <div class="code-block">
          <div class="code-header">
            <div class="code-dots">
              <span class="code-dot red"></span>
              <span class="code-dot yellow"></span>
              <span class="code-dot green"></span>
            </div>
            <span class="code-title">Pato.cs</span>
          </div>
          <div class="code-content">
            <div class="line-numbers">1<br>2<br>3<br>4</div>
            <pre><code><span class="token-keyword">public</span> <span class="token-keyword">class</span> <span class="token-class">Pato</span> : <span class="token-class">Animal</span>, <span class="token-type">IVolador</span>, <span class="token-type">INadador</span>, <span class="token-type">ICaminador</span>
{
    <span class="token-comment">// Implementa todos los m√©todos de las interfaces</span>
}</code></pre>
          </div>
        </div>
        <div class="note">Nota: Las interfaces en C# solo pueden contener firmas de m√©todos, propiedades y eventos, sin implementaci√≥n (a partir de C# 8, pueden tener miembros default).</div>
      </div>
    </section>

    <section id="liskov">
      <h2>3. Principio de Sustituci√≥n de Liskov (LSP)</h2>

      <h3>Definici√≥n Formal</h3>
      <p>El <strong>Principio de Sustituci√≥n de Liskov (LSP)</strong>, formulado por Barbara Liskov en 1987, establece que:</p>
      
      <div class="highlight-box">
        <p><em>"Si S es un subtipo de T, entonces los objetos de tipo T pueden ser reemplazados por objetos de tipo S sin alterar ninguna de las propiedades deseables del programa."</em></p>
      </div>

      <h3>En T√©rminos Pr√°cticos</h3>
      <p>Una clase derivada debe poder sustituir a su clase base <strong>sin que el programa falle o se comporte de manera inesperada</strong>.</p>

      <div class="comparison-table">
        <div>
          <h4>‚úÖ CUMPLE LSP</h4>
          <div class="code-block">
            <div class="code-header">
              <div class="code-dots">
                <span class="code-dot red"></span>
                <span class="code-dot yellow"></span>
                <span class="code-dot green"></span>
              </div>
              <span class="code-title">Rectangulo.cs</span>
            </div>
            <div class="code-content">
              <div class="line-numbers">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20</div>
              <pre><code><span class="token-keyword">public</span> <span class="token-keyword">class</span> <span class="token-class">Rectangulo</span>
{
    <span class="token-keyword">public</span> <span class="token-keyword">virtual</span> <span class="token-type">int</span> Ancho { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
    <span class="token-keyword">public</span> <span class="token-keyword">virtual</span> <span class="token-type">int</span> Alto { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
    <span class="token-keyword">public</span> <span class="token-type">int</span> Area <span class="token-operator">=></span> Ancho <span class="token-operator">*</span> Alto;
}

<span class="token-keyword">public</span> <span class="token-keyword">class</span> <span class="token-class">Cuadrado</span> : <span class="token-class">Rectangulo</span>
{
    <span class="token-comment">// Cuadrado ES un Rectangulo especial</span>
    <span class="token-comment">// donde Ancho == Alto</span>
    <span class="token-keyword">public</span> <span class="token-keyword">override</span> <span class="token-type">int</span> Ancho 
    { 
        <span class="token-keyword">set</span> { <span class="token-keyword">base</span>.Ancho <span class="token-operator">=</span> <span class="token-keyword">base</span>.Alto <span class="token-operator">=</span> <span class="token-keyword">value</span>; }
    }
    <span class="token-keyword">public</span> <span class="token-keyword">override</span> <span class="token-type">int</span> Alto 
    { 
        <span class="token-keyword">set</span> { <span class="token-keyword">base</span>.Ancho <span class="token-operator">=</span> <span class="token-keyword">base</span>.Alto <span class="token-operator">=</span> <span class="token-keyword">value</span>; }
    }
}</code></pre>
            </div>
          </div>
        </div>
        <div>
          <h4>‚ùå VIOLA LSP</h4>
          <div class="code-block">
            <div class="code-header">
              <div class="code-dots">
                <span class="code-dot red"></span>
                <span class="code-dot yellow"></span>
                <span class="code-dot green"></span>
              </div>
              <span class="code-title">Pajaro.cs</span>
            </div>
            <div class="code-content">
              <div class="line-numbers">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14</div>
              <pre><code><span class="token-keyword">public</span> <span class="token-keyword">class</span> <span class="token-class">Pajaro</span>
{
    <span class="token-keyword">public</span> <span class="token-keyword">virtual</span> <span class="token-type">void</span> <span class="token-method">Volar</span>() { }
}

<span class="token-keyword">public</span> <span class="token-keyword">class</span> <span class="token-class">Pinguino</span> : <span class="token-class">Pajaro</span>
{
    <span class="token-comment">// PROBLEMA: Un ping√ºino ES un p√°jaro</span>
    <span class="token-comment">// pero NO puede volar</span>
    <span class="token-keyword">public</span> <span class="token-keyword">override</span> <span class="token-type">void</span> <span class="token-method">Volar</span>()
    {
        <span class="token-keyword">throw</span> <span class="token-keyword">new</span> <span class="token-method">InvalidOperationException</span>(
            <span class="token-string">"Los ping√ºinos no vuelan!"</span>);
    }
}</code></pre>
            </div>
          </div>
        </div>
      </div>

      <div class="info-box">
        <h4>Reglas para cumplir LSP</h4>
        <ol>
          <li><strong>Precondiciones:</strong> No deben ser m√°s fuertes en la subclase que en la superclase</li>
          <li><strong>Postcondiciones:</strong> No deben ser m√°s d√©biles en la subclase que en la superclase</li>
          <li><strong>Invariantes:</strong> Deben preservarse en la subclase</li>
          <li><strong>Historial:</strong> No modificar propiedades que la superclase considera inmutables</li>
        </ol>
      </div>

      <h3>Ejemplo de Violaci√≥n Com√∫n</h3>
      <div class="code-block">
        <div class="code-header">
          <div class="code-dots">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
          </div>
          <span class="code-title">CuentaBancaria.cs</span>
        </div>
        <div class="code-content">
          <div class="line-numbers">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29</div>
          <pre><code><span class="token-comment">// Clase base</span>
<span class="token-keyword">public</span> <span class="token-keyword">class</span> <span class="token-class">CuentaBancaria</span>
{
    <span class="token-keyword">protected</span> <span class="token-type">double</span> _saldo;
    
    <span class="token-keyword">public</span> <span class="token-keyword">virtual</span> <span class="token-type">void</span> <span class="token-method">Retirar</span>(<span class="token-type">double</span> monto)
    {
        <span class="token-keyword">if</span> (monto <span class="token-operator">></span> _saldo)
            <span class="token-keyword">throw</span> <span class="token-keyword">new</span> <span class="token-method">InvalidOperationException</span>(<span class="token-string">"Saldo insuficiente"</span>);
        _saldo <span class="token-operator">-=</span> monto;
    }
}

<span class="token-comment">// Subclase que VIOLA LSP</span>
<span class="token-keyword">public</span> <span class="token-keyword">class</span> <span class="token-class">CuentaCongelada</span> : <span class="token-class">CuentaBancaria</span>
{
    <span class="token-comment">// PROBLEMA: Cambia el comportamiento esperado</span>
    <span class="token-comment">// Los clientes esperan poder retirar de cualquier cuenta</span>
    <span class="token-keyword">public</span> <span class="token-keyword">override</span> <span class="token-type">void</span> <span class="token-method">Retirar</span>(<span class="token-type">double</span> monto)
    {
        <span class="token-keyword">throw</span> <span class="token-keyword">new</span> <span class="token-method">InvalidOperationException</span>(
            <span class="token-string">"Esta cuenta est√° congelada, no se permiten retiros"</span>);
    }
}

<span class="token-comment">// Uso que falla:</span>
<span class="token-class">CuentaBancaria</span> cuenta <span class="token-operator">=</span> <span class="token-keyword">new</span> <span class="token-method">CuentaCongelada</span>();
cuenta.<span class="token-method">Depositar</span>(<span class="token-number">1000</span>);
cuenta.<span class="token-method">Retirar</span>(<span class="token-number">100</span>); <span class="token-comment">// ¬°EXCEPCI√ìN INESPERADA!</span></code></pre>
        </div>
      </div>

      <div class="warning-box">
        <h4>¬øC√≥mo solucionarlo?</h4>
        <p>Si una subclase no puede cumplir con el contrato de la clase base, <strong>no deber√≠a heredar de ella</strong>. En su lugar:</p>
        <ul>
          <li>Usar <strong>composici√≥n</strong> en lugar de herencia</li>
          <li>Crear una jerarqu√≠a diferente: <code>CuentaBancaria</code> ‚Üí <code>CuentaActiva</code> y <code>CuentaCongelada</code> como hermanas</li>
          <li>Usar el patr√≥n <strong>Estado (State)</strong> para cambiar comportamiento din√°micamente</li>
        </ul>
      </div>
    </section>

    <section id="ejemplos">
      <h2>4. Ejemplos Pr√°cticos</h2>

      <h3>Ejemplo 1: Jerarqu√≠a de Empleados</h3>
      <p>Implementaci√≥n de una jerarqu√≠a completa con <code>Empleado</code> como clase base y <code>Gerente</code> y <code>Desarrollador</code> como subclases.</p>

      <div class="code-block">
        <div class="code-header">
          <div class="code-dots">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
          </div>
          <span class="code-title">Empleado.cs</span>
        </div>
        <div class="code-content">
          <div class="line-numbers">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br>52<br>53<br>54<br>55<br>56<br>57<br>58<br>59<br>60<br>61<br>62<br>63<br>64<br>65<br>66<br>67<br>68<br>69<br>70<br>71<br>72<br>73<br>74<br>75<br>76<br>77<br>78<br>79<br>80<br>81<br>82<br>83<br>84<br>85<br>86<br>87<br>88<br>89<br>90<br>91<br>92<br>93<br>94<br>95<br>96<br>97<br>98<br>99<br>100<br>101<br>102<br>103<br>104<br>105<br>106<br>107<br>108<br>109<br>110<br>111<br>112</div>
          <pre><code><span class="token-comment">// ============================================</span>
<span class="token-comment">// CLASE BASE: Empleado</span>
<span class="token-comment">// ============================================</span>
<span class="token-keyword">public</span> <span class="token-keyword">class</span> <span class="token-class">Empleado</span>
{
    <span class="token-comment">// Propiedades comunes a todos los empleados</span>
    <span class="token-keyword">public</span> <span class="token-type">string</span> Nombre { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
    <span class="token-keyword">public</span> <span class="token-type">int</span> Id { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
    <span class="token-keyword">public</span> <span class="token-type">double</span> SalarioBase { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
    
    <span class="token-comment">// Constructor de la clase base</span>
    <span class="token-keyword">public</span> <span class="token-method">Empleado</span>(<span class="token-type">string</span> nombre, <span class="token-type">int</span> id, <span class="token-type">double</span> salarioBase)
    {
        Nombre <span class="token-operator">=</span> nombre;
        Id <span class="token-operator">=</span> id;
        SalarioBase <span class="token-operator">=</span> salarioBase;
    }
    
    <span class="token-comment">// M√©todo virtual: puede ser sobreescrito</span>
    <span class="token-keyword">public</span> <span class="token-keyword">virtual</span> <span class="token-type">void</span> <span class="token-method">Trabajar</span>()
    {
        <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">$"{Nombre} est√° trabajando."</span>);
    }
    
    <span class="token-comment">// M√©todo virtual para calcular salario</span>
    <span class="token-keyword">public</span> <span class="token-keyword">virtual</span> <span class="token-type">double</span> <span class="token-method">CalcularSalario</span>()
    {
        <span class="token-keyword">return</span> SalarioBase;
    }
    
    <span class="token-comment">// M√©todo virtual para mostrar informaci√≥n</span>
    <span class="token-keyword">public</span> <span class="token-keyword">virtual</span> <span class="token-type">void</span> <span class="token-method">MostrarInfo</span>()
    {
        <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">$"ID: {Id}, Nombre: {Nombre}"</span>);
        <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">$"Salario Base: ${SalarioBase:F2}"</span>);
    }
}

<span class="token-comment">// ============================================</span>
<span class="token-comment">// CLASE DERIVADA: Gerente</span>
<span class="token-comment">// ============================================</span>
<span class="token-keyword">public</span> <span class="token-keyword">class</span> <span class="token-class">Gerente</span> : <span class="token-class">Empleado</span>
{
    <span class="token-keyword">public</span> <span class="token-type">int</span> CantidadSubordinados { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
    <span class="token-keyword">public</span> <span class="token-type">double</span> Bono { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
    
    <span class="token-comment">// Constructor que llama al base con 'base'</span>
    <span class="token-keyword">public</span> <span class="token-method">Gerente</span>(<span class="token-type">string</span> nombre, <span class="token-type">int</span> id, <span class="token-type">double</span> salarioBase, 
                   <span class="token-type">int</span> subordinados, <span class="token-type">double</span> bono) 
        : <span class="token-keyword">base</span>(nombre, id, salarioBase)
    {
        CantidadSubordinados <span class="token-operator">=</span> subordinados;
        Bono <span class="token-operator">=</span> bono;
    }
    
    <span class="token-comment">// Sobreescribimos el comportamiento</span>
    <span class="token-keyword">public</span> <span class="token-keyword">override</span> <span class="token-type">void</span> <span class="token-method">Trabajar</span>()
    {
        <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">$"{Nombre} est√° supervisando a {CantidadSubordinados} empleados."</span>);
    }
    
    <span class="token-keyword">public</span> <span class="token-keyword">override</span> <span class="token-type">double</span> <span class="token-method">CalcularSalario</span>()
    {
        <span class="token-keyword">return</span> SalarioBase <span class="token-operator">+</span> Bono;
    }
    
    <span class="token-keyword">public</span> <span class="token-keyword">override</span> <span class="token-type">void</span> <span class="token-method">MostrarInfo</span>()
    {
        <span class="token-keyword">base</span>.<span class="token-method">MostrarInfo</span>(); <span class="token-comment">// Reutilizamos c√≥digo del padre</span>
        <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">$"Cargo: Gerente"</span>);
        <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">$"Subordinados: {CantidadSubordinados}"</span>);
        <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">$"Bono: ${Bono:F2}"</span>);
        <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">$"Salario Total: ${CalcularSalario():F2}"</span>);
    }
}

<span class="token-comment">// ============================================</span>
<span class="token-comment">// CLASE DERIVADA: Desarrollador</span>
<span class="token-comment">// ============================================</span>
<span class="token-keyword">public</span> <span class="token-keyword">class</span> <span class="token-class">Desarrollador</span> : <span class="token-class">Empleado</span>
{
    <span class="token-keyword">public</span> <span class="token-type">string</span> LenguajePrincipal { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
    <span class="token-keyword">public</span> <span class="token-type">int</span> HorasExtra { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
    <span class="token-keyword">public</span> <span class="token-type">double</span> TarifaHoraExtra { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
    
    <span class="token-keyword">public</span> <span class="token-method">Desarrollador</span>(<span class="token-type">string</span> nombre, <span class="token-type">int</span> id, <span class="token-type">double</span> salarioBase,
                         <span class="token-type">string</span> lenguaje, <span class="token-type">int</span> horasExtra, <span class="token-type">double</span> tarifa)
        : <span class="token-keyword">base</span>(nombre, id, salarioBase)
    {
        LenguajePrincipal <span class="token-operator">=</span> lenguaje;
        HorasExtra <span class="token-operator">=</span> horasExtra;
        TarifaHoraExtra <span class="token-operator">=</span> tarifa;
    }
    
    <span class="token-keyword">public</span> <span class="token-keyword">override</span> <span class="token-type">void</span> <span class="token-method">Trabajar</span>()
    {
        <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">$"{Nombre} est√° programando en {LenguajePrincipal}."</span>);
    }
    
    <span class="token-keyword">public</span> <span class="token-keyword">override</span> <span class="token-type">double</span> <span class="token-method">CalcularSalario</span>()
    {
        <span class="token-keyword">return</span> SalarioBase <span class="token-operator">+</span> (HorasExtra <span class="token-operator">*</span> TarifaHoraExtra);
    }
    
    <span class="token-keyword">public</span> <span class="token-keyword">override</span> <span class="token-type">void</span> <span class="token-method">MostrarInfo</span>()
    {
        <span class="token-keyword">base</span>.<span class="token-method">MostrarInfo</span>();
        <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">$"Cargo: Desarrollador"</span>);
        <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">$"Lenguaje: {LenguajePrincipal}"</span>);
        <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">$"Horas Extra: {HorasExtra}"</span>);
        <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">$"Salario Total: ${CalcularSalario():F2}"</span>);
    }
}</code></pre>
        </div>
      </div>

      <h4>Uso Polim√≥rfico con Arrays</h4>
      <div class="code-block">
        <div class="code-header">
          <div class="code-dots">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
          </div>
          <span class="code-title">Program.cs</span>
        </div>
        <div class="code-content">
          <div class="line-numbers">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32</div>
          <pre><code><span class="token-keyword">class</span> <span class="token-class">Program</span>
{
    <span class="token-keyword">static</span> <span class="token-type">void</span> <span class="token-method">Main</span>(<span class="token-type">string</span>[] args)
    {
        <span class="token-comment">// Creamos un array de la clase base</span>
        <span class="token-class">Empleado</span>[] empleados <span class="token-operator">=</span> <span class="token-keyword">new</span> <span class="token-class">Empleado</span>[]
        {
            <span class="token-keyword">new</span> <span class="token-method">Gerente</span>(<span class="token-string">"Ana Garc√≠a"</span>, <span class="token-number">101</span>, <span class="token-number">5000</span>, <span class="token-number">5</span>, <span class="token-number">1500</span>),
            <span class="token-keyword">new</span> <span class="token-method">Desarrollador</span>(<span class="token-string">"Carlos Ruiz"</span>, <span class="token-number">102</span>, <span class="token-number">4000</span>, <span class="token-string">"C#"</span>, <span class="token-number">20</span>, <span class="token-number">25</span>),
            <span class="token-keyword">new</span> <span class="token-method">Gerente</span>(<span class="token-string">"Mar√≠a L√≥pez"</span>, <span class="token-number">103</span>, <span class="token-number">5500</span>, <span class="token-number">8</span>, <span class="token-number">2000</span>),
            <span class="token-keyword">new</span> <span class="token-method">Desarrollador</span>(<span class="token-string">"Juan P√©rez"</span>, <span class="token-number">104</span>, <span class="token-number">3800</span>, <span class="token-string">"Java"</span>, <span class="token-number">15</span>, <span class="token-number">20</span>)
        };
        
        <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">"=== N√ìMINA DE EMPLEADOS ===\n"</span>);
        
        <span class="token-comment">// Polimorfismo: tratamos todos como Empleado</span>
        <span class="token-keyword">foreach</span> (<span class="token-class">Empleado</span> emp <span class="token-keyword">in</span> empleados)
        {
            emp.<span class="token-method">MostrarInfo</span>();
            emp.<span class="token-method">Trabajar</span>();  <span class="token-comment">// Se ejecuta la versi√≥n espec√≠fica</span>
            <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">"------------------------\n"</span>);
        }
        
        <span class="token-comment">// Calcular total de n√≥mina</span>
        <span class="token-type">double</span> totalNomina <span class="token-operator">=</span> <span class="token-number">0</span>;
        <span class="token-keyword">foreach</span> (<span class="token-class">Empleado</span> emp <span class="token-keyword">in</span> empleados)
        {
            totalNomina <span class="token-operator">+=</span> emp.<span class="token-method">CalcularSalario</span>();
        }
        <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">$"Total N√≥mina: ${totalNomina:F2}"</span>);
    }
}</code></pre>
        </div>
      </div>

      <figure>
        <div class="diagram">
<pre>
SALIDA DEL PROGRAMA:

=== N√ìMINA DE EMPLEADOS ===

ID: 101, Nombre: Ana Garc√≠a
Salario Base: $5000.00
Cargo: Gerente
Subordinados: 5
Bono: $1500.00
Salario Total: $6500.00
Ana Garc√≠a est√° supervisando a 5 empleados.
------------------------

ID: 102, Nombre: Carlos Ruiz
Salario Base: $4000.00
Cargo: Desarrollador
Lenguaje: C#
Horas Extra: 20
Salario Total: $4500.00
Carlos Ruiz est√° programando en C#.
------------------------

...
Total N√≥mina: $20800.00
</pre>
        </div>
        <figcaption>Salida esperada del ejemplo polim√≥rfico con jerarqu√≠a de empleados</figcaption>
      </figure>

      <h3>Ejemplo 2: Uso de la Palabra Clave <code>base</code></h3>
      <p>La palabra clave <code>base</code> se utiliza para acceder a miembros de la clase base desde la clase derivada:</p>

      <div class="code-block">
        <div class="code-header">
          <div class="code-dots">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
          </div>
          <span class="code-title">Vehiculo.cs</span>
        </div>
        <div class="code-content">
          <div class="line-numbers">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37</div>
          <pre><code><span class="token-keyword">public</span> <span class="token-keyword">class</span> <span class="token-class">Vehiculo</span>
{
    <span class="token-keyword">public</span> <span class="token-type">string</span> Marca { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
    <span class="token-keyword">public</span> <span class="token-type">string</span> Modelo { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
    <span class="token-keyword">public</span> <span class="token-type">int</span> A√±o { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
    
    <span class="token-keyword">public</span> <span class="token-method">Vehiculo</span>(<span class="token-type">string</span> marca, <span class="token-type">string</span> modelo, <span class="token-type">int</span> a√±o)
    {
        Marca <span class="token-operator">=</span> marca;
        Modelo <span class="token-operator">=</span> modelo;
        A√±o <span class="token-operator">=</span> a√±o;
    }
    
    <span class="token-keyword">public</span> <span class="token-keyword">virtual</span> <span class="token-type">string</span> <span class="token-method">ObtenerDescripcion</span>()
    {
        <span class="token-keyword">return</span> <span class="token-string">$"{Marca} {Modelo} ({A√±o})"</span>;
    }
}

<span class="token-keyword">public</span> <span class="token-keyword">class</span> <span class="token-class">Auto</span> : <span class="token-class">Vehiculo</span>
{
    <span class="token-keyword">public</span> <span class="token-type">int</span> NumPuertas { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
    
    <span class="token-comment">// 'base' llama al constructor del padre</span>
    <span class="token-keyword">public</span> <span class="token-method">Auto</span>(<span class="token-type">string</span> marca, <span class="token-type">string</span> modelo, <span class="token-type">int</span> a√±o, <span class="token-type">int</span> puertas)
        : <span class="token-keyword">base</span>(marca, modelo, a√±o)  <span class="token-comment">// ‚Üê Constructor base</span>
    {
        NumPuertas <span class="token-operator">=</span> puertas;
    }
    
    <span class="token-keyword">public</span> <span class="token-keyword">override</span> <span class="token-type">string</span> <span class="token-method">ObtenerDescripcion</span>()
    {
        <span class="token-comment">// 'base' llama al m√©todo del padre</span>
        <span class="token-type">string</span> descripcionBase <span class="token-operator">=</span> <span class="token-keyword">base</span>.<span class="token-method">ObtenerDescripcion</span>();
        <span class="token-keyword">return</span> <span class="token-string">$"{descripcionBase} - {NumPuertas} puertas"</span>;
    }
}</code></pre>
        </div>
      </div>

      <h3>Ejemplo 3: Clases <code>sealed</code> (Selladas)</h3>
      <p>Una clase sellada <code>sealed</code> no puede ser heredada. Se usa para:</p>
      <ul>
        <li>Prevenir la modificaci√≥n de comportamiento cr√≠tico</li>
        <li>Mejorar el rendimiento (el compilador puede optimizar)</li>
        <li>Crear clases de utilidad o constantes</li>
      </ul>

      <div class="code-block">
        <div class="code-header">
          <div class="code-dots">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
          </div>
          <span class="code-title">CalculadoraCientifica.cs</span>
        </div>
        <div class="code-content">
          <div class="line-numbers">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44</div>
          <pre><code><span class="token-comment">// Clase que NO puede ser heredada</span>
<span class="token-keyword">public</span> <span class="token-keyword">sealed</span> <span class="token-keyword">class</span> <span class="token-class">CalculadoraCientifica</span>
{
    <span class="token-keyword">public</span> <span class="token-keyword">static</span> <span class="token-type">double</span> <span class="token-method">Potencia</span>(<span class="token-type">double</span> baseNum, <span class="token-type">double</span> exponente)
    {
        <span class="token-keyword">return</span> <span class="token-class">Math</span>.<span class="token-method">Pow</span>(baseNum, exponente);
    }
    
    <span class="token-keyword">public</span> <span class="token-keyword">static</span> <span class="token-type">double</span> <span class="token-method">LogaritmoNatural</span>(<span class="token-type">double</span> numero)
    {
        <span class="token-keyword">return</span> <span class="token-class">Math</span>.<span class="token-method">Log</span>(numero);
    }
    
    <span class="token-keyword">public</span> <span class="token-keyword">static</span> <span class="token-type">double</span> <span class="token-method">Factorial</span>(<span class="token-type">int</span> n)
    {
        <span class="token-keyword">if</span> (n <span class="token-operator"><</span> <span class="token-number">0</span>) <span class="token-keyword">throw</span> <span class="token-keyword">new</span> <span class="token-method">ArgumentException</span>(<span class="token-string">"n debe ser positivo"</span>);
        <span class="token-keyword">if</span> (n <span class="token-operator"><=</span> <span class="token-number">1</span>) <span class="token-keyword">return</span> <span class="token-number">1</span>;
        <span class="token-keyword">return</span> n <span class="token-operator">*</span> <span class="token-method">Factorial</span>(n <span class="token-operator">-</span> <span class="token-number">1</span>);
    }
}

<span class="token-comment">// ERROR: No se puede derivar de una clase sealed</span>
<span class="token-comment">// public class CalculadoraAvanzada : CalculadoraCientifica { }</span>

<span class="token-comment">// Tambi√©n podemos sellar m√©todos individuales</span>
<span class="token-keyword">public</span> <span class="token-keyword">class</span> <span class="token-class">Empleado</span>
{
    <span class="token-keyword">public</span> <span class="token-keyword">virtual</span> <span class="token-type">double</span> <span class="token-method">CalcularBono</span>() { <span class="token-keyword">return</span> <span class="token-number">0</span>; }
}

<span class="token-keyword">public</span> <span class="token-keyword">class</span> <span class="token-class">Gerente</span> : <span class="token-class">Empleado</span>
{
    <span class="token-comment">// Este m√©todo ya no puede ser sobreescrito m√°s</span>
    <span class="token-keyword">public</span> <span class="token-keyword">sealed</span> <span class="token-keyword">override</span> <span class="token-type">double</span> <span class="token-method">CalcularBono</span>()
    {
        <span class="token-keyword">return</span> Salario <span class="token-operator">*</span> <span class="token-number">0.20</span>;
    }
}

<span class="token-comment">// ERROR: No se puede sobreescribir un m√©todo sealed</span>
<span class="token-comment">// public class Director : Gerente</span>
<span class="token-comment">// {</span>
<span class="token-comment">//     public override double CalcularBono() { ... } // ¬°Error!</span>
<span class="token-comment">// }</span></code></pre>
        </div>
      </div>

      <h3>Ejemplo 4: Herencia con Interfaces</h3>
      <div class="code-block">
        <div class="code-header">
          <div class="code-dots">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
          </div>
          <span class="code-title">Pato.cs</span>
        </div>
        <div class="code-content">
          <div class="line-numbers">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br>50<br>51<br>52<br>53<br>54<br>55<br>56<br>57<br>58</div>
          <pre><code><span class="token-comment">// Definici√≥n de interfaces</span>
<span class="token-keyword">public</span> <span class="token-keyword">interface</span> <span class="token-type">IVolador</span>
{
    <span class="token-type">void</span> <span class="token-method">Despegar</span>();
    <span class="token-type">void</span> <span class="token-method">Aterrizar</span>();
    <span class="token-type">int</span> AlturaMaxima { <span class="token-keyword">get</span>; }
}

<span class="token-keyword">public</span> <span class="token-keyword">interface</span> <span class="token-type">INadador</span>
{
    <span class="token-type">void</span> <span class="token-method">Nadar</span>();
    <span class="token-type">int</span> ProfundidadMaxima { <span class="token-keyword">get</span>; }
}

<span class="token-comment">// Clase que hereda de una clase e implementa m√∫ltiples interfaces</span>
<span class="token-keyword">public</span> <span class="token-keyword">class</span> <span class="token-class">Pato</span> : <span class="token-class">Animal</span>, <span class="token-type">IVolador</span>, <span class="token-type">INadador</span>
{
    <span class="token-keyword">public</span> <span class="token-type">int</span> AlturaMaxima <span class="token-operator">=></span> <span class="token-number">1000</span>; <span class="token-comment">// metros</span>
    <span class="token-keyword">public</span> <span class="token-type">int</span> ProfundidadMaxima <span class="token-operator">=></span> <span class="token-number">2</span>; <span class="token-comment">// metros</span>
    
    <span class="token-keyword">public</span> <span class="token-keyword">override</span> <span class="token-type">void</span> <span class="token-method">HacerSonido</span>()
    {
        <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">"¬°Cuac cuac!"</span>);
    }
    
    <span class="token-keyword">public</span> <span class="token-type">void</span> <span class="token-method">Despegar</span>()
    {
        <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">"El pato est√° despegando..."</span>);
    }
    
    <span class="token-keyword">public</span> <span class="token-type">void</span> <span class="token-method">Aterrizar</span>()
    {
        <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">"El pato est√° aterrizando en el agua..."</span>);
    }
    
    <span class="token-keyword">public</span> <span class="token-type">void</span> <span class="token-method">Nadar</span>()
    {
        <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">"El pato est√° nadando graciosamente."</span>);
    }
}

<span class="token-comment">// Uso polim√≥rfico con interfaces</span>
<span class="token-keyword">class</span> <span class="token-class">Program</span>
{
    <span class="token-keyword">static</span> <span class="token-type">void</span> <span class="token-method">Main</span>(<span class="token-type">string</span>[] args)
    {
        <span class="token-class">Pato</span> pato <span class="token-operator">=</span> <span class="token-keyword">new</span> <span class="token-method">Pato</span>();
        
        <span class="token-comment">// Polimorfismo con interfaces</span>
        <span class="token-type">IVolador</span> volador <span class="token-operator">=</span> pato;
        <span class="token-type">INadador</span> nadador <span class="token-operator">=</span> pato;
        <span class="token-class">Animal</span> animal <span class="token-operator">=</span> pato;
        
        volador.<span class="token-method">Despegar</span>();      <span class="token-comment">// Comportamiento de IVolador</span>
        nadador.<span class="token-method">Nadar</span>();          <span class="token-comment">// Comportamiento de INadador</span>
        animal.<span class="token-method">HacerSonido</span>();     <span class="token-comment">// Comportamiento de Animal</span>
    }
}</code></pre>
        </div>
      </div>

      <figure>
        <img src="../assets/infografias/clase-03-herencia.png" alt="Infograf√≠a: herencia" onerror="this.onerror=null;this.src='/assets/infografias/clase-03-herencia.png'" />
        <figcaption>Diagrama de herencia simple mostrando la relaci√≥n 'es-un' entre clases base y derivadas, con ejemplos de propiedades y m√©todos heredados en C#.</figcaption>
      </figure>

      <figure>
        <img src="../assets/infografias/clase-03-polimorfismo.png" alt="Infograf√≠a: polimorfismo" onerror="this.onerror=null;this.src='/assets/infografias/clase-03-polimorfismo.png'" />
        <figcaption>Ilustraci√≥n del polimorfismo en tiempo de ejecuci√≥n en C#, donde objetos de diferentes subclases responden al mismo m√©todo virtual de forma espec√≠fica.</figcaption>
      </figure>

      <div class="checklist">
        <strong>Errores Comunes a Evitar</strong>
        <ul>
          <li>No marcar m√©todos como <code>virtual</code> en la clase base y esperar poder sobreescribirlos</li>
          <li>Olvidar usar <code>override</code> (usar <code>new</code> por accidente cambia el comportamiento)</li>
          <li>Usar herencia donde la composici√≥n ser√≠a m√°s apropiada (relaci√≥n "tiene-un" vs "es-un")</li>
          <li>Romper el principio de Liskov al cambiar comportamientos de manera incompatible</li>
          <li>Olvidar llamar al constructor base con <code>base()</code> cuando es necesario</li>
          <li>Crear jerarqu√≠as demasiado profundas (m√°s de 3-4 niveles es dif√≠cil de mantener)</li>
        </ul>
      </div>
    </section>

    <section id="practica">
      <h2>5. Laboratorio Guiado: Sistema de Figuras Geom√©tricas</h2>

      <section class="actividad">
        <h3>Actividad: Laboratorio - Sistema de Figuras Geom√©tricas (40 min)</h3>
        <p><strong>Tipo:</strong> Opcional / pr√°ctica</p>
        <p><strong>Relacionado con:</strong> Ninguno</p>
        <p><strong>Entregable:</strong> Jerarqu√≠a de clases para figuras geom√©tricas</p>
        <p><strong>Tiempo estimado:</strong> 40 minutos</p>
        <p><strong>Criterios de √©xito:</strong> Comprensi√≥n de herencia, polimorfismo, clases abstractas</p>
      <p>Crear una jerarqu√≠a de clases para figuras geom√©tricas que demuestre herencia, polimorfismo y el uso de clases abstractas.</p>

      <div class="highlight-box">
        <h4>Tiempo Total Estimado: 40 minutos</h4>
        <ul>
          <li>Configuraci√≥n del proyecto: 5 min</li>
          <li>Creaci√≥n de clase base abstracta: 10 min</li>
          <li>Implementaci√≥n de subclases: 15 min</li>
          <li>Programa principal con polimorfismo: 10 min</li>
        </ul>
      </div>

      <h3>Paso 1: Crear el Proyecto (5 minutos)</h3>
      <ol>
        <li>Abre <strong>Visual Studio 2022</strong></li>
        <li>Haz clic en <strong>Crear un proyecto nuevo</strong></li>
        <li>Selecciona <strong>Aplicaci√≥n de consola</strong> (.NET 8.0)</li>
        <li>Nombra el proyecto: <code>SistemaFiguras</code></li>
        <li>Haz clic en <strong>Crear</strong></li>
      </ol>

      <h3>Paso 2: Crear la Clase Base Abstracta (10 minutos)</h3>
      <p>Crea un nuevo archivo <code>Figura.cs</code>:</p>
      <div class="code-block">
        <div class="code-header">
          <div class="code-dots">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
          </div>
          <span class="code-title">Figura.cs</span>
        </div>
        <div class="code-content">
          <div class="line-numbers">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33</div>
          <pre><code><span class="token-keyword">using</span> <span class="token-namespace">System</span>;

<span class="token-keyword">namespace</span> <span class="token-namespace">SistemaFiguras</span>
{
    <span class="token-comment">// Clase abstracta: no se puede instanciar directamente</span>
    <span class="token-keyword">public</span> <span class="token-keyword">abstract</span> <span class="token-keyword">class</span> <span class="token-class">Figura</span>
    {
        <span class="token-comment">// Propiedad com√∫n a todas las figuras</span>
        <span class="token-keyword">public</span> <span class="token-type">string</span> Color { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; } <span class="token-operator">=</span> <span class="token-string">"Negro"</span>;
        <span class="token-keyword">public</span> <span class="token-type">string</span> Nombre { <span class="token-keyword">get</span>; <span class="token-keyword">protected</span> <span class="token-keyword">set</span>; }
        
        <span class="token-comment">// Constructor protegido</span>
        <span class="token-keyword">protected</span> <span class="token-method">Figura</span>(<span class="token-type">string</span> nombre)
        {
            Nombre <span class="token-operator">=</span> nombre;
        }
        
        <span class="token-comment">// M√©todo abstracto: DEBE ser implementado por las subclases</span>
        <span class="token-keyword">public</span> <span class="token-keyword">abstract</span> <span class="token-type">double</span> <span class="token-method">CalcularArea</span>();
        
        <span class="token-comment">// M√©todo abstracto para per√≠metro</span>
        <span class="token-keyword">public</span> <span class="token-keyword">abstract</span> <span class="token-type">double</span> <span class="token-method">CalcularPerimetro</span>();
        
        <span class="token-comment">// M√©todo virtual: puede ser sobreescrito opcionalmente</span>
        <span class="token-keyword">public</span> <span class="token-keyword">virtual</span> <span class="token-type">void</span> <span class="token-method">MostrarInfo</span>()
        {
            <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">$"Figura: {Nombre}"</span>);
            <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">$"Color: {Color}"</span>);
            <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">$"√Årea: {CalcularArea():F2}"</span>);
            <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">$"Per√≠metro: {CalcularPerimetro():F2}"</span>);
        }
    }
}</code></pre>
        </div>
      </div>

      <h3>Paso 3: Implementar Subclases (15 minutos)</h3>
      <p>Crea <code>Rectangulo.cs</code>:</p>
      <div class="code-block">
        <div class="code-header">
          <div class="code-dots">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
          </div>
          <span class="code-title">Rectangulo.cs</span>
        </div>
        <div class="code-content">
          <div class="line-numbers">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30</div>
          <pre><code><span class="token-keyword">namespace</span> <span class="token-namespace">SistemaFiguras</span>
{
    <span class="token-keyword">public</span> <span class="token-keyword">class</span> <span class="token-class">Rectangulo</span> : <span class="token-class">Figura</span>
    {
        <span class="token-keyword">public</span> <span class="token-type">double</span> Ancho { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
        <span class="token-keyword">public</span> <span class="token-type">double</span> Alto { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
        
        <span class="token-keyword">public</span> <span class="token-method">Rectangulo</span>(<span class="token-type">double</span> ancho, <span class="token-type">double</span> alto) : <span class="token-keyword">base</span>(<span class="token-string">"Rect√°ngulo"</span>)
        {
            Ancho <span class="token-operator">=</span> ancho;
            Alto <span class="token-operator">=</span> alto;
        }
        
        <span class="token-keyword">public</span> <span class="token-keyword">override</span> <span class="token-type">double</span> <span class="token-method">CalcularArea</span>()
        {
            <span class="token-keyword">return</span> Ancho <span class="token-operator">*</span> Alto;
        }
        
        <span class="token-keyword">public</span> <span class="token-keyword">override</span> <span class="token-type">double</span> <span class="token-method">CalcularPerimetro</span>()
        {
            <span class="token-keyword">return</span> <span class="token-number">2</span> <span class="token-operator">*</span> (Ancho <span class="token-operator">+</span> Alto);
        }
        
        <span class="token-keyword">public</span> <span class="token-keyword">override</span> <span class="token-type">void</span> <span class="token-method">MostrarInfo</span>()
        {
            <span class="token-keyword">base</span>.<span class="token-method">MostrarInfo</span>();
            <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">$"Dimensiones: {Ancho} x {Alto}"</span>);
        }
    }
}</code></pre>
        </div>
      </div>

      <p>Crea <code>Circulo.cs</code>:</p>
      <div class="code-block">
        <div class="code-header">
          <div class="code-dots">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
          </div>
          <span class="code-title">Circulo.cs</span>
        </div>
        <div class="code-content">
          <div class="line-numbers">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31</div>
          <pre><code><span class="token-keyword">using</span> <span class="token-namespace">System</span>;

<span class="token-keyword">namespace</span> <span class="token-namespace">SistemaFiguras</span>
{
    <span class="token-keyword">public</span> <span class="token-keyword">class</span> <span class="token-class">Circulo</span> : <span class="token-class">Figura</span>
    {
        <span class="token-keyword">public</span> <span class="token-type">double</span> Radio { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
        
        <span class="token-keyword">public</span> <span class="token-method">Circulo</span>(<span class="token-type">double</span> radio) : <span class="token-keyword">base</span>(<span class="token-string">"C√≠rculo"</span>)
        {
            Radio <span class="token-operator">=</span> radio;
        }
        
        <span class="token-keyword">public</span> <span class="token-keyword">override</span> <span class="token-type">double</span> <span class="token-method">CalcularArea</span>()
        {
            <span class="token-keyword">return</span> <span class="token-class">Math</span>.PI <span class="token-operator">*</span> Radio <span class="token-operator">*</span> Radio;
        }
        
        <span class="token-keyword">public</span> <span class="token-keyword">override</span> <span class="token-type">double</span> <span class="token-method">CalcularPerimetro</span>()
        {
            <span class="token-keyword">return</span> <span class="token-number">2</span> <span class="token-operator">*</span> <span class="token-class">Math</span>.PI <span class="token-operator">*</span> Radio;
        }
        
        <span class="token-keyword">public</span> <span class="token-keyword">override</span> <span class="token-type">void</span> <span class="token-method">MostrarInfo</span>()
        {
            <span class="token-keyword">base</span>.<span class="token-method">MostrarInfo</span>();
            <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">$"Radio: {Radio}"</span>);
            <span class="token-class">Console</span>.<span class="token-method">WriteLine</span>(<span class="token-string">$"Di√°metro: {2 * Radio}"</span>);
        }
    }
}</code></pre>
        </div>
      </div>

      <p>Crea <code>Triangulo.cs</code> (desaf√≠o adicional):</p>
      <div class="code-block">
        <div class="code-header">
          <div class="code-dots">
            <span class="code-dot red"></span>
            <span class="code-dot yellow"></span>
            <span class="code-dot green"></span>
          </div>
          <span class="code-title">Triangulo.cs</span>
        </div>
        <div class="code-content">
          <div class="line-numbers">1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33</div>
          <pre><code><span class="token-keyword">using</span> <span class="token-namespace">System</span>;

<span class="token-keyword">namespace</span> <span class="token-namespace">SistemaFiguras</span>
{
    <span class="token-keyword">public</span> <span class="token-keyword">class</span> <span class="token-class">Triangulo</span> : <span class="token-class">Figura</span>
    {
        <span class="token-keyword">public</span> <span class="token-type">double</span> Base { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
        <span class="token-keyword">public</span> <span class="token-type">double</span> Altura { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
        <span class="token-keyword">public</span> <span class="token-type">double</span> LadoA { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
        <span class="token-keyword">public</span> <span class="token-type">double</span> LadoB { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
        <span class="token-keyword">public</span> <span class="token-type">double</span> LadoC { <span class="token-keyword">get</span>; <span class="token-keyword">set</span>; }
        
        <span class="token-keyword">public</span> <span class="token-method">Triangulo</span>(<span class="token-type">double</span> baseTri, <span class="token-type">double</span> altura, 
                         <span class="token-type">double</span> a, <span class="token-type">double</span> b, <span class="token-type">double</span> c) : <span class="token-keyword">base</span>(<span class="token-string">"Tri√°ngulo"</span>)
        {
            Base <span class="token-operator">=</span> baseTri;
            Altura <span class="token-operator">=</span> altura;
            LadoA <span class="token-operator">=</span> a;
            LadoB <span class="token-operator">=</span> b;
            LadoC <span class="token-operator">=</span> c;
        }
        
        <span class="token-keyword">public</span> <span class="token-keyword">override</span> <span class="token-type">double</span> <span class="token-method">CalcularArea</span>()
        {
            <span class="token-keyword">return</span> (Base <span class="token-operator">*</span> Altura) <span class="token-operator">/</span> <span class="token-number">2</span>;
        }
        
        <span class="token-keyword">public</span> <span class="token-keyword">override</span> <span class="token-type">double</span> <span class="token-method">CalcularPerimetro</span>()
        {
            <span class="token-keyword">return</span> LadoA <span class="token-operator">+</span> LadoB <span class="token-operator">+</span> LadoC;
        }
    }
}</code></pre>
        </div>
      </div>

      <h3>Paso 4: Programa Principal con Polimorfismo (10 minutos)</h3>
      <p>Modifica <code>Program.cs</code>:</p>
      <pre><code>using System;
using System.Collections.Generic;

namespace SistemaFiguras
{
    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine("=== SISTEMA DE FIGURAS GEOM√âTRICAS ===\n");
            
            // Lista polim√≥rfica de figuras
            List&lt;Figura&gt; figuras = new List&lt;Figura&gt;
            {
                new Rectangulo(5, 3) { Color = "Azul" },
                new Circulo(4) { Color = "Rojo" },
                new Rectangulo(10, 2) { Color = "Verde" },
                new Triangulo(6, 4, 5, 5, 6) { Color = "Amarillo" },
                new Circulo(2.5) { Color = "Naranja" }
            };
            
            // Procesar todas las figuras polim√≥rficamente
            double areaTotal = 0;
            foreach (Figura figura in figuras)
            {
                figura.MostrarInfo();
                areaTotal += figura.CalcularArea();
                Console.WriteLine(new string('-', 40));
            }
            
            Console.WriteLine($"\n√ÅREA TOTAL DE TODAS LAS FIGURAS: {areaTotal:F2}");
            
            // Demostrar polimorfismo con un m√©todo gen√©rico
            Console.WriteLine("\n=== USANDO M√âTODO GEN√âRICO ===");
            MostrarAreaDuplicada(new Circulo(3));
            MostrarAreaDuplicada(new Rectangulo(4, 5));
        }
        
        // M√©todo que acepta cualquier tipo de Figura
        static void MostrarAreaDuplicada(Figura figura)
        {
            Console.WriteLine($"{figura.Nombre}: √Årea normal = {figura.CalcularArea():F2}");
            Console.WriteLine($"{figura.Nombre}: √Årea duplicada = {figura.CalcularArea() * 2:F2}");
        }
    }
}</code></pre>

      <div class="checklist">
        <strong>Checklist de Verificaci√≥n del Laboratorio</strong>
        <ul>
          <li>Proyecto creado correctamente en Visual Studio</li>
          <li>Clase <code>Figura</code> marcada como <code>abstract</code></li>
          <li>M√©todos <code>CalcularArea()</code> y <code>CalcularPerimetro()</code> marcados como <code>abstract</code></li>
          <li>Clases <code>Rectangulo</code>, <code>Circulo</code> y <code>Triangulo</code> heredan de <code>Figura</code></li>
          <li>Todas las subclases implementan los m√©todos abstractos</li>
          <li>Uso de <code>override</code> en lugar de <code>new</code></li>
          <li>Lista <code>List&lt;Figura&gt;</code> contiene diferentes tipos de figuras</li>
          <li>El programa calcula √°reas correctamente usando polimorfismo</li>
          <li>No hay errores de compilaci√≥n</li>
          <li>El programa ejecuta y muestra resultados correctos</li>
        </ul>
      </div>

      <div class="warning-box">
        <h4>Errores Comunes en el Laboratorio</h4>
        <ul>
          <li><strong>Error:</strong> Intentar crear <code>new Figura()</code> ‚Üí <strong>Soluci√≥n:</strong> Figura es abstracta, no se instancia</li>
          <li><strong>Error:</strong> Olvidar implementar todos los m√©todos abstractos ‚Üí <strong>Soluci√≥n:</strong> Implementar <code>CalcularArea()</code> y <code>CalcularPerimetro()</code> en cada subclase</li>
          <li><strong>Error:</strong> Usar <code>new</code> en lugar de <code>override</code> ‚Üí <strong>Soluci√≥n:</strong> Siempre usar <code>override</code> para polimorfismo</li>
          <li><strong>Error:</strong> F√≥rmula incorrecta del √°rea del c√≠rculo ‚Üí <strong>Soluci√≥n:</strong> Usar <code>Math.PI * Radio * Radio</code></li>
        </ul>
      </div>
    </section>

    <section id="ejercicios">
      <h2>6. Ejercicios Pr√°cticos</h2>

      <section class="actividad">
        <h3>Actividad: Ejercicio 1 - Jerarqu√≠a de Veh√≠culos (15 min)</h3>
        <p><strong>Tipo:</strong> Opcional / pr√°ctica</p>
        <p><strong>Relacionado con:</strong> Ninguno</p>
        <p><strong>Entregable:</strong> Jerarqu√≠a de veh√≠culos con 3 niveles</p>
        <p><strong>Tiempo estimado:</strong> 15 minutos</p>
        <p><strong>Criterios de √©xito:</strong> Aplicaci√≥n de herencia multinivel</p>
      <div class="info-box">
        <p><strong>Objetivo:</strong> Crear una jerarqu√≠a de veh√≠culos con al menos 3 niveles de herencia.</p>
        <p><strong>Dificultad:</strong> ‚≠ê‚≠ê Principiante</p>
      </div>

      <p><strong>Requisitos:</strong></p>
      <ol>
        <li>Crear clase base <code>Vehiculo</code> con: Marca, Modelo, A√±o, y m√©todo <code>Conducir()</code></li>
        <li>Crear <code>Auto</code> que herede de <code>Vehiculo</code> con: N√∫mero de puertas, Tipo de combustible</li>
        <li>Crear <code>Moto</code> que herede de <code>Vehiculo</code> con: Cilindraje, TieneSidecar</li>
        <li>Crear <code>AutoElectrico</code> que herede de <code>Auto</code> con: CapacidadBateria, AutonomiaKm</li>
        <li>Sobreescribir <code>Conducir()</code> en cada clase con mensaje espec√≠fico</li>
        <li>Crear un array de <code>Vehiculo[]</code> con instancias de cada tipo y recorrerlo</li>
      </ol>

      <div class="diagram">
        <figure>
          <svg width="100%" viewBox="0 0 760 220" preserveAspectRatio="xMidYMid meet" role="img" aria-labelledby="jerarqReq">
            <title id="jerarqReq">Jerarqu√≠a requerida: Veh√≠culo (abstract) con Auto y Moto, AutoElectrico derivado</title>
            <style>
              .box{fill:#fff;stroke:#dbeafe;rx:8}
              .h{font:700 13px Arial, sans-serif; fill:#0b2d6b}
              .s{font:12px Arial, sans-serif; fill:#475569}
            </style>
            <rect x="300" y="16" width="160" height="48" rx="8" fill="#fff" stroke="#dbeafe"/>
            <text x="380" y="40" text-anchor="middle" class="h">Veh√≠culo (abstract)</text>

            <rect x="140" y="108" width="160" height="48" rx="8" fill="#fff" stroke="#dbeafe"/>
            <text x="220" y="132" text-anchor="middle" class="h">Auto</text>

            <rect x="460" y="108" width="160" height="48" rx="8" fill="#fff" stroke="#dbeafe"/>
            <text x="540" y="132" text-anchor="middle" class="h">Moto</text>

            <rect x="300" y="176" width="160" height="48" rx="8" fill="#fff" stroke="#dbeafe"/>
            <text x="380" y="200" text-anchor="middle" class="h">AutoEl√©ctrico</text>

            <path d="M380 64 L200 108" stroke="#0b2d6b" stroke-width="2"/>
            <path d="M380 64 L540 108" stroke="#0b2d6b" stroke-width="2"/>
            <path d="M220 156 L380 176" stroke="#0b2d6b" stroke-width="2"/>
          </svg>
        </figure>
      </div>

      <div class="checklist">
        <strong>Checklist del Ejercicio 1</strong>
        <ul>
          <li>Clase <code>Vehiculo</code> con constructor y propiedades b√°sicas</li>
          <li>M√©todo <code>Conducir()</code> marcado como <code>virtual</code></li>
          <li>Clases <code>Auto</code> y <code>Moto</code> heredan correctamente</li>
          <li><code>AutoElectrico</code> hereda de <code>Auto</code> (herencia multinivel)</li>
          <li>Todos los constructores usan <code>base()</code> apropiadamente</li>
          <li>Uso de <code>override</code> en los m√©todos sobreescritos</li>
          <li>Array polim√≥rfico que demuestra sustituci√≥n de Liskov</li>
          <li>Programa compila y ejecuta correctamente</li>
        </ul>
      </div>

      </section>

      <section class="actividad">
        <h3>Actividad: Ejercicio 2 - Sistema de Figuras Avanzado (20 min)</h3>
        <p><strong>Tipo:</strong> Opcional / pr√°ctica</p>
        <p><strong>Relacionado con:</strong> Ninguno</p>
        <p><strong>Entregable:</strong> Extensi√≥n del laboratorio con nuevas figuras</p>
        <p><strong>Tiempo estimado:</strong> 20 minutos</p>
        <p><strong>Criterios de √©xito:</strong> Uso de interfaces, m√©todos est√°ticos</p>
      <div class="info-box">
        <p><strong>Objetivo:</strong> Extender el laboratorio con nuevas figuras y funcionalidades.</p>
        <p><strong>Dificultad:</strong> ‚≠ê‚≠ê‚≠ê Intermedio</p>
      </div>

      <p><strong>Requisitos:</strong></p>
      <ol>
        <li>Agregar clase <code>Cuadrado</code> que herede de <code>Rectangulo</code> (cumpliendo LSP)</li>
        <li>Agregar clase <code>Trapecio</code> con: BaseMayor, BaseMenor, Altura</li>
        <li>Crear interfaz <code>IDibujable</code> con m√©todo <code>Dibujar()</code> que imprima la figura con asteriscos</li>
        <li>Implementar <code>IDibujable</code> en <code>Rectangulo</code> y <code>Triangulo</code></li>
        <li>Agregar m√©todo est√°tico <code>Figura CrearFiguraAleatoria()</code> que devuelva una figura aleatoria</li>
        <li>Crear lista de 10 figuras aleatorias y calcular √°rea total</li>
      </ol>

      <pre><code>// Ejemplo de IDibujable para Rect√°ngulo 3x4:
****
****
****

// Ejemplo de IDibujable para Tri√°ngulo de altura 4:
   *
  ***
 *****
*******</code></pre>

      <div class="checklist">
        <strong>Checklist del Ejercicio 2</strong>
        <ul>
          <li><code>Cuadrado</code> hereda de <code>Rectangulo</code> sin romper comportamiento</li>
          <li><code>Trapecio</code> implementa correctamente <code>CalcularArea()</code></li>
          <li>Interfaz <code>IDibujable</code> definida correctamente</li>
          <li>Implementaci√≥n de <code>Dibujar()</code> usando ciclos anidados</li>
          <li>M√©todo <code>CrearFiguraAleatoria()</code> usa <code>Random</code></li>
          <li>Lista de 10 figuras generada correctamente</li>
          <li>C√°lculo de √°rea total funciona con todas las figuras</li>
        </ul>
      </div>

      </section>

      <section class="actividad">
        <h3>Actividad: Ejercicio 3 - Sistema de Pagos (25 min)</h3>
        <p><strong>Tipo:</strong> Opcional / pr√°ctica</p>
        <p><strong>Relacionado con:</strong> Ninguno</p>
        <p><strong>Entregable:</strong> Sistema de procesamiento de pagos polim√≥rfico</p>
        <p><strong>Tiempo estimado:</strong> 25 minutos</p>
        <p><strong>Criterios de √©xito:</strong> Aplicaci√≥n avanzada de polimorfismo real</p>
      <div class="info-box">
        <p><strong>Objetivo:</strong> Crear un sistema de procesamiento de pagos que demuestre polimorfismo real.</p>
        <p><strong>Dificultad:</strong> ‚≠ê‚≠ê‚≠ê‚≠ê Avanzado</p>
      </div>

      <p><strong>Requisitos:</strong></p>
      <ol>
        <li>Crear clase abstracta <code>MetodoPago</code> con:
          <ul>
            <li>Propiedades: Titular, Monto</li>
            <li>M√©todo abstracto: <code>bool ProcesarPago()</code></li>
            <li>M√©todo abstracto: <code>string ObtenerResibo()</code></li>
            <li>M√©todo virtual: <code>void Validar()</code> que verifique Monto > 0</li>
          </ul>
        </li>
        <li>Crear <code>PagoTarjetaCredito</code> que herede de <code>MetodoPago</code>:
          <ul>
            <li>Propiedades: NumeroTarjeta (ocultar √∫ltimos 4 d√≠gitos), FechaVencimiento, CVV</li>
            <li><code>ProcesarPago()</code>: Validar tarjeta no vencida, simular procesamiento</li>
            <li>Agregar comisi√≥n del 2.5% al monto</li>
          </ul>
        </li>
        <li>Crear <code>PagoPayPal</code> que herede de <code>MetodoPago</code>:
          <ul>
            <li>Propiedades: Email, AutenticacionDosFactores</li>
            <li><code>ProcesarPago()</code>: Verificar 2FA si est√° habilitado</li>
            <li>Sin comisi√≥n</li>
          </ul>
        </li>
        <li>Crear <code>PagoTransferenciaBancaria</code> (sellada) que herede de <code>MetodoPago</code>:
          <ul>
            <li>Propiedades: NumeroCuenta, Banco, CLABE</li>
            <li><code>ProcesarPago()</code>: Validar CLABE (18 d√≠gitos)</li>
            <li>Agregar comisi√≥n fija de $15</li>
          </ul>
        </li>
        <li>Crear clase <code>ProcesadorPagos</code> con m√©todo est√°tico:
          <pre><code>public static void ProcesarMultiplesPagos(List&lt;MetodoPago&gt; pagos)</code></pre>
        </li>
        <li>Crear programa principal que simule 5 transacciones de diferentes tipos</li>
      </ol>

      <pre><code>// Estructura esperada:
MetodoPago (abstract)
    ‚îÇ
    ‚îú‚îÄ‚îÄ PagoTarjetaCredito
    ‚îú‚îÄ‚îÄ PagoPayPal
    ‚îî‚îÄ‚îÄ PagoTransferenciaBancaria (sealed)

// Uso esperado:
var pagos = new List&lt;MetodoPago&gt;
{
    new PagoTarjetaCredito("Juan", 1000, "4111111111111111", ...),
    new PagoPayPal("Maria", 500, "maria@email.com", true),
    new PagoTransferenciaBancaria("Pedro", 2000, "012345678901234567", ...)
};

ProcesadorPagos.ProcesarMultiplesPagos(pagos);</code></pre>

      <div class="checklist">
        <strong>Checklist del Ejercicio 3</strong>
        <ul>
          <li>Clase <code>MetodoPago</code> es <code>abstract</code></li>
          <li>M√©todos <code>ProcesarPago()</code> y <code>ObtenerResibo()</code> son <code>abstract</code></li>
          <li>Validaciones implementadas en cada tipo de pago</li>
          <li>Ocultamiento de datos sensibles (tarjeta, CLABE)</li>
          <li>C√°lculo de comisiones correcto en cada tipo</li>
          <li>Clase <code>PagoTransferenciaBancaria</code> marcada como <code>sealed</code></li>
          <li>Procesador de pagos funciona con lista polim√≥rfica</li>
          <li>Generaci√≥n de recibos con formato adecuado</li>
          <li>Manejo de errores con excepciones personalizadas</li>
          <li>Programa simula transacciones correctamente</li>
        </ul>
      </div>
      </section>
    </section>

    <section id="referencias">
      <h2>7. Referencias y Recursos</h2>

      <h3>Documentaci√≥n Oficial</h3>
      <ul>
        <li><a href="https://docs.microsoft.com/es-es/dotnet/csharp/programming-guide/classes-and-structs/inheritance" target="_blank">Microsoft Docs - Herencia en C#</a></li>
        <li><a href="https://docs.microsoft.com/es-es/dotnet/csharp/programming-guide/classes-and-structs/polymorphism" target="_blank">Microsoft Docs - Polimorfismo en C#</a></li>
        <li><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/base" target="_blank">Palabra clave base (C#)</a></li>
        <li><a href="https://docs.microsoft.com/es-es/dotnet/csharp/language-reference/keywords/sealed" target="_blank">Palabra clave sealed (C#)</a></li>
      </ul>

      <h3>Libros Recomendados</h3>
      <ul>
        <li><em>"C# 10 in a Nutshell"</em> - Joseph Albahari (Cap√≠tulos 3 y 6)</li>
        <li><em>"Head First Design Patterns"</em> - Eric Freeman (Patrones con herencia)</li>
        <li><em>"Clean Code"</em> - Robert C. Martin (Cap√≠tulo sobre herencia vs composici√≥n)</li>
      </ul>

      <h3>Recursos Online</h3>
      <ul>
        <li><a href="https://refactoring.guru/es/design-patterns" target="_blank">Refactoring Guru - Patrones de Dise√±o</a></li>
        <li><a href="https://www.csharptutorial.net/csharp-oop/" target="_blank">C# Tutorial - OOP en C#</a></li>
        <li><a href="https://www.tutorialsteacher.com/csharp/csharp-inheritance" target="_blank">TutorialsTeacher - Herencia C#</a></li>
      </ul>

      <h3>Videos Relacionados</h3>
      <ul>
        <li>Canal de YouTube: <em>"DotNet"</em> - Serie de POO en C#</li>
        <li>Platzi: Curso de Programaci√≥n Orientada a Objetos con C#</li>
      </ul>

      <div class="highlight-box">
        <h4>Pr√≥xima Clase: Clase 04 - Interfaces y Clases Abstractas</h4>
        <p>En la pr√≥xima clase profundizaremos en:</p>
        <ul>
          <li>Diferencias entre interfaces y clases abstractas</li>
          <li>Implementaci√≥n expl√≠cita de interfaces</li>
          <li>Herencia m√∫ltiple de interfaces</li>
          <li>Patrones de dise√±o: Strategy, Repository</li>
        </ul>
      </div>
    </section>

  </main>

  <footer>
    <p><strong>IF0100 - Lenguaje de Programaci√≥n Orientada a Objetos II</strong></p>
    <p>UNAULA - Ingenier√≠a Inform√°tica - 2026-I</p>
    <p style="margin-top: 10px; font-size: 0.9em; opacity: 0.8;">Clase 03 - Herencia y Polimorfismo</p>
  </footer>
</body>
</html>
